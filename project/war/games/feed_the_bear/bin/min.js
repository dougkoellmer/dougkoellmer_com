this.createjs=this.createjs||{};(function(){var a=createjs.SoundJS=createjs.SoundJS||{};a.version="0.5.2";a.buildDate="Thu, 12 Dec 2013 23:33:37 GMT"})();this.createjs=this.createjs||{};
(function(){var a=function(){},b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(a,b,k){var m;m=k?this._captureListeners=this._captureListeners||
{}:this._listeners=this._listeners||{};var s=m[a];return s&&this.removeEventListener(a,b,k),s=m[a],s?s.push(b):m[a]=[b],b};b.on=function(a,b,k,m,s,t){return b.handleEvent&&(k=k||b,b=b.handleEvent),k=k||this,this.addEventListener(a,function(a){b.call(k,a,s);m&&a.remove()},t)};b.removeEventListener=function(a,b,k){if(k=k?this._captureListeners:this._listeners){var m=k[a];if(m)for(var s=0,t=m.length;t>s;s++)if(m[s]==b){1==t?delete k[a]:m.splice(s,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=
function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,b){if("string"==typeof a){var k=this._listeners;if(!k||!k[a])return!1;a=new createjs.Event(a)}if(a.target=b||this,a.bubbles&&this.parent){for(var m=this,k=[m];m.parent;)k.push(m=m.parent);for(var s=k.length,m=s-1;0<=m&&!a.propagationStopped;m--)k[m]._dispatchEvent(a,1+(0==m));for(m=1;s>m&&!a.propagationStopped;m++)k[m]._dispatchEvent(a,
3)}else this._dispatchEvent(a,2);return a.defaultPrevented};b.hasEventListener=function(a){var b=this._listeners,k=this._captureListeners;return!!(b&&b[a]||k&&k[a])};b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,b){var k,m=1==b?this._captureListeners:this._listeners;if(a&&m&&(m=m[a.type])&&(k=m.length)){a.currentTarget=this;a.eventPhase=b;a.removed=!1;for(var m=m.slice(),
s=0;k>s&&!a.immediatePropagationStopped;s++){var t=m[s];t.handleEvent?t.handleEvent(a):t(a);a.removed&&(this.off(a.type,t,1==b),a.removed=!1)}}};createjs.EventDispatcher=a})();this.createjs=this.createjs||{};
(function(){var a=function(a,b,k){this.initialize(a,b,k)},b=a.prototype;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=!1;b.cancelable=!1;b.timeStamp=0;b.defaultPrevented=!1;b.propagationStopped=!1;b.immediatePropagationStopped=!1;b.removed=!1;b.initialize=function(a,b,k){this.type=a;this.bubbles=b;this.cancelable=k;this.timeStamp=(new Date).getTime()};b.preventDefault=function(){this.defaultPrevented=!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};b.remove=function(){this.removed=!0};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(a,b){for(var c=0,e=a.length;e>c;c++)if(b===a[c])return c;return-1}})();this.createjs=this.createjs||{};
(function(){createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}})();this.createjs=this.createjs||{};
(function(){function a(){throw"Sound cannot be instantiated";}function b(a,b){this.init(a,b)}function c(){}a.DELIMITER="|";a.INTERRUPT_ANY="any";a.INTERRUPT_EARLY="early";a.INTERRUPT_LATE="late";a.INTERRUPT_NONE="none";a.PLAY_INITED="playInited";a.PLAY_SUCCEEDED="playSucceeded";a.PLAY_INTERRUPTED="playInterrupted";a.PLAY_FINISHED="playFinished";a.PLAY_FAILED="playFailed";a.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");a.EXTENSION_MAP={m4a:"mp4"};a.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;
a.defaultInterruptBehavior=a.INTERRUPT_NONE;a.alternateExtensions=[];a._lastID=0;a.activePlugin=null;a._pluginsRegistered=!1;a._masterVolume=1;a._masterMute=!1;a._instances=[];a._idHash={};a._preloadHash={};a._defaultSoundInstance=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._sendFileLoadEvent=function(b){if(a._preloadHash[b])for(var c=0,e=a._preloadHash[b].length;e>
c;c++){var t=a._preloadHash[b][c];if(a._preloadHash[b][c]=!0,a.hasEventListener("fileload")){var r=new createjs.Event("fileload");r.src=t.src;r.id=t.id;r.data=t.data;a.dispatchEvent(r)}}};a.getPreloadHandlers=function(){return{callback:createjs.proxy(a.initLoad,a),types:["sound"],extensions:a.SUPPORTED_EXTENSIONS}};a.registerPlugin=function(b){try{console.log("createjs.Sound.registerPlugin has been deprecated. Please use registerPlugins.")}catch(c){}return a._registerPlugin(b)};a._registerPlugin=
function(b){return a._pluginsRegistered=!0,null==b?!1:b.isSupported()?(a.activePlugin=new b,!0):!1};a.registerPlugins=function(b){for(var c=0,e=b.length;e>c;c++)if(a._registerPlugin(b[c]))return!0;return!1};a.initializeDefaultPlugins=function(){return null!=a.activePlugin?!0:a._pluginsRegistered?!1:a.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};a.isReady=function(){return null!=a.activePlugin};a.getCapabilities=function(){return null==a.activePlugin?null:a.activePlugin._capabilities};
a.getCapability=function(b){return null==a.activePlugin?null:a.activePlugin._capabilities[b]};a.initLoad=function(b,c,e,t,r){b=b.replace(r,"");b=a.registerSound(b,e,t,!1,r);return null==b?!1:b};a.registerSound=function(c,e,s,t,r){if(!a.initializeDefaultPlugins())return!1;var w=(c instanceof Object&&(r=e,e=c.id,s=c.data,c=c.src),a.alternateExtensions.length)?a._parsePath2(c,"sound",e,s):a._parsePath(c,"sound",e,s);if(null==w)return!1;null!=r&&(c=r+c,w.src=r+w.src);null!=e&&(a._idHash[e]=w.src);r=null;
null!=s&&(isNaN(s.channels)?isNaN(s)||(r=parseInt(s)):r=parseInt(s.channels));var y=a.activePlugin.register(w.src,r);if(null!=y&&(null!=y.numChannels&&(r=y.numChannels),b.create(w.src,r),null!=s&&isNaN(s)?s.channels=w.data.channels=r||b.maxPerChannel():s=w.data=r||b.maxPerChannel(),null!=y.tag?w.tag=y.tag:y.src&&(w.src=y.src),null!=y.completeHandler&&(w.completeHandler=y.completeHandler),y.type&&(w.type=y.type)),0!=t)if(a._preloadHash[w.src]||(a._preloadHash[w.src]=[]),a._preloadHash[w.src].push({src:c,
id:e,data:s}),1==a._preloadHash[w.src].length)a.activePlugin.preload(w.src,y);else if(1==a._preloadHash[w.src][0])return!0;return w};a.registerManifest=function(a,b){for(var c=[],e=0,r=a.length;r>e;e++)c[e]=createjs.Sound.registerSound(a[e].src,a[e].id,a[e].data,a[e].preload,b);return c};a.removeSound=function(c,e){if(null==a.activePlugin)return!1;var s=(c instanceof Object&&(c=c.src),c=a._getSrcById(c),a.alternateExtensions.length)?a._parsePath2(c):a._parsePath(c);if(null==s)return!1;null!=e&&(s.src=
e+s.src);c=s.src;for(var t in a._idHash)a._idHash[t]==c&&delete a._idHash[t];return b.removeSrc(c),delete a._preloadHash[c],a.activePlugin.removeSound(c),!0};a.removeManifest=function(a,b){for(var c=[],e=0,r=a.length;r>e;e++)c[e]=createjs.Sound.removeSound(a[e].src,b);return c};a.removeAllSounds=function(){a._idHash={};a._preloadHash={};b.removeAll();a.activePlugin.removeAllSounds()};a.loadComplete=function(b){var c=a.alternateExtensions.length?a._parsePath2(b,"sound"):a._parsePath(b,"sound");return b=
c?a._getSrcById(c.src):a._getSrcById(b),1==a._preloadHash[b][0]};a._parsePath=function(b,c,e,t){"string"!=typeof b&&(b=b.toString());b=b.split(a.DELIMITER);if(1<b.length)try{console.log('createjs.Sound.DELIMITER "|" loading approach has been deprecated. Please use the new alternateExtensions property.')}catch(r){}c={type:c||"sound",id:e,data:t};e=a.getCapabilities();t=0;for(var w=b.length;w>t;t++){var y=b[t],C=y.match(a.FILE_PATTERN);if(null==C)return!1;var B=C[4],C=C[5];if(e[C]&&-1<createjs.indexOf(a.SUPPORTED_EXTENSIONS,
C))return c.name=B,c.src=y,c.extension=C,c}return null};a._parsePath2=function(b,c,e,t){"string"!=typeof b&&(b=b.toString());var r=b.match(a.FILE_PATTERN);if(null==r)return!1;for(var w=r[4],y=r[5],C=a.getCapabilities(),B=0;!C[y];)if(y=a.alternateExtensions[B++],B>a.alternateExtensions.length)return null;b=b.replace("."+r[5],"."+y);c={type:c||"sound",id:e,data:t};return c.name=w,c.src=b,c.extension=y,c};a.play=function(b,c,e,t,r,w,y){b=a.createInstance(b);return a._playInstance(b,c,e,t,r,w,y)||b.playFailed(),
b};a.createInstance=function(c){if(!a.initializeDefaultPlugins())return a._defaultSoundInstance;var e=(c=a._getSrcById(c),a.alternateExtensions.length)?a._parsePath2(c,"sound"):a._parsePath(c,"sound");c=null;return null!=e&&null!=e.src?(b.create(e.src),c=a.activePlugin.create(e.src)):c=a._defaultSoundInstance,c.uniqueId=a._lastID++,c};a.setVolume=function(b){if(null==Number(b))return!1;if(b=Math.max(0,Math.min(1,b)),a._masterVolume=b,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(b))for(var c=
this._instances,e=0,t=c.length;t>e;e++)c[e].setMasterVolume(b)};a.getVolume=function(){return a._masterVolume};a.setMute=function(a){if(null==a||void 0==a)return!1;if(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this._instances,c=0,e=b.length;e>c;c++)b[c].setMasterMute(a);return!0};a.getMute=function(){return this._masterMute};a.stop=function(){for(var a=this._instances,b=a.length;b--;)a[b].stop()};a._playInstance=function(b,c,e,t,r,w,
y){if(c instanceof Object&&(e=c.delay,t=c.offset,r=c.loop,w=c.volume,y=c.pan,c=c.interrupt),c=c||a.defaultInterruptBehavior,null==e&&(e=0),null==t&&(t=b.getPosition()),null==r&&(r=0),null==w&&(w=b.volume),null==y&&(y=b.pan),0==e){if(!a._beginPlaying(b,c,t,r,w,y))return!1}else e=setTimeout(function(){a._beginPlaying(b,c,t,r,w,y)},e),b._delayTimeoutId=e;return this._instances.push(b),!0};a._beginPlaying=function(a,c,e,t,r,w){return b.add(a,c)?a._beginPlaying(e,t,r,w)?!0:(a=createjs.indexOf(this._instances,
a),-1<a&&this._instances.splice(a,1),!1):!1};a._getSrcById=function(b){return null==a._idHash||null==a._idHash[b]?b:a._idHash[b]};a._playFinished=function(a){b.remove(a);a=createjs.indexOf(this._instances,a);-1<a&&this._instances.splice(a,1)};createjs.Sound=a;b.channels={};b.create=function(a,c){return null==b.get(a)?(b.channels[a]=new b(a,c),!0):!1};b.removeSrc=function(a){var c=b.get(a);return null==c?!1:(c.removeAll(),delete b.channels[a],!0)};b.removeAll=function(){for(var a in b.channels)b.channels[a].removeAll();
b.channels={}};b.add=function(a,c){var e=b.get(a.src);return null==e?!1:e.add(a,c)};b.remove=function(a){var c=b.get(a.src);return null==c?!1:(c.remove(a),!0)};b.maxPerChannel=function(){return e.maxDefault};b.get=function(a){return b.channels[a]};var e=b.prototype;e.src=null;e.max=null;e.maxDefault=100;e.length=0;e.init=function(a,b){this.src=a;this.max=b||this.maxDefault;-1==this.max&&(this.max=this.maxDefault);this._instances=[]};e.get=function(a){return this._instances[a]};e.add=function(a,b){return this.getSlot(b,
a)?(this._instances.push(a),this.length++,!0):!1};e.remove=function(a){a=createjs.indexOf(this._instances,a);return-1==a?!1:(this._instances.splice(a,1),this.length--,!0)};e.removeAll=function(){for(var a=this.length-1;0<=a;a--)this._instances[a].stop()};e.getSlot=function(b){for(var c,e,t=0,r=this.max;r>t;t++){if(c=this.get(t),null==c)return!0;(b!=a.INTERRUPT_NONE||c.playState==a.PLAY_FINISHED)&&(0!=t?c.playState==a.PLAY_FINISHED||c.playState==a.PLAY_INTERRUPTED||c.playState==a.PLAY_FAILED?e=c:(b==
a.INTERRUPT_EARLY&&c.getPosition()<e.getPosition()||b==a.INTERRUPT_LATE&&c.getPosition()>e.getPosition())&&(e=c):e=c)}return null!=e?(e._interrupt(),this.remove(e),!0):!1};e.toString=function(){return"[Sound SoundChannel]"};a._defaultSoundInstance=new function(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListeners=this.dispatchEvent=this.hasEventListener=this._listeners=this._interrupt=this._playFailed=this.pause=this.resume=this.play=this._beginPlaying=this._cleanUp=
this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=this.playFailed=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=a.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}};c.init=function(){var a=window.navigator.userAgent;c.isFirefox=-1<a.indexOf("Firefox");c.isOpera=null!=window.opera;c.isChrome=-1<a.indexOf("Chrome");c.isIOS=-1<a.indexOf("iPod")||
-1<a.indexOf("iPhone")||-1<a.indexOf("iPad");c.isAndroid=-1<a.indexOf("Android");c.isBlackberry=-1<a.indexOf("Blackberry")};c.init();createjs.Sound.BrowserDetect=c})();this.createjs=this.createjs||{};
(function(){function a(){this._init()}a._capabilities=null;a.isSupported=function(){var b=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"!=location.protocol||b||this._isFileXHRSupported()?(a._generateCapabilities(),null==a.context?!1:!0):!1};a._isFileXHRSupported=function(){var a=!0,b=new XMLHttpRequest;try{b.open("GET","fail.fail",!1)}catch(k){return a=!1}b.onerror=function(){a=!1};b.onload=function(){a=404==this.status||
200==this.status||0==this.status&&""!=this.response};try{b.send()}catch(m){a=!1}return a};a._generateCapabilities=function(){if(null==a._capabilities){var b=document.createElement("audio");if(null==b.canPlayType)return null;if(window.webkitAudioContext)a.context=new webkitAudioContext;else{if(!window.AudioContext)return null;a.context=new AudioContext}a._compatibilitySetUp();a.playEmptySound();a._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,k=createjs.Sound.EXTENSION_MAP,
m=0,s=e.length;s>m;m++){var t=e[m],r=k[t]||t;a._capabilities[t]="no"!=b.canPlayType("audio/"+t)&&""!=b.canPlayType("audio/"+t)||"no"!=b.canPlayType("audio/"+r)&&""!=b.canPlayType("audio/"+r)}2>a.context.destination.numberOfChannels&&(a._capabilities.panning=!1);a.dynamicsCompressorNode=a.context.createDynamicsCompressor();a.dynamicsCompressorNode.connect(a.context.destination);a.gainNode=a.context.createGain();a.gainNode.connect(a.dynamicsCompressorNode)}};a._compatibilitySetUp=function(){if(!a.context.createGain){a.context.createGain=
a.context.createGainNode;var b=a.context.createBufferSource();b.__proto__.start=b.__proto__.noteGrainOn;b.__proto__.stop=b.__proto__.noteOff;this._panningModel=0}};a.playEmptySound=function(){var a=this.context.createBuffer(1,1,22050),b=this.context.createBufferSource();b.buffer=a;b.connect(this.context.destination);b.start(0,0,0)};var b=a.prototype;b._capabilities=null;b._volume=1;b.context=null;b._panningModel="equalpower";b.dynamicsCompressorNode=null;b.gainNode=null;b._arrayBuffers=null;b._init=
function(){this._capabilities=a._capabilities;this._arrayBuffers={};this.context=a.context;this.gainNode=a.gainNode;this.dynamicsCompressorNode=a.dynamicsCompressorNode};b.register=function(a){this._arrayBuffers[a]=!0;return{tag:new createjs.WebAudioPlugin.Loader(a,this)}};b.isPreloadStarted=function(a){return null!=this._arrayBuffers[a]};b.isPreloadComplete=function(a){return!(null==this._arrayBuffers[a]||1==this._arrayBuffers[a])};b.removeSound=function(a){delete this._arrayBuffers[a]};b.removeAllSounds=
function(){this._arrayBuffers={}};b.addPreloadResults=function(a,b){this._arrayBuffers[a]=b};b._handlePreloadComplete=function(){createjs.Sound._sendFileLoadEvent(this.src)};b.preload=function(a){this._arrayBuffers[a]=!0;a=new createjs.WebAudioPlugin.Loader(a,this);a.onload=this._handlePreloadComplete;a.load()};b.create=function(a){return this.isPreloadStarted(a)||this.preload(a),new createjs.WebAudioPlugin.SoundInstance(a,this)};b.setVolume=function(a){return this._volume=a,this._updateVolume(),
!0};b._updateVolume=function(){var a=createjs.Sound._masterMute?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)};b.getVolume=function(){return this._volume};b.setMute=function(){return this._updateVolume(),!0};b.toString=function(){return"[WebAudioPlugin]"};createjs.WebAudioPlugin=a})();
(function(){function a(a,b){this._init(a,b)}var b=a.prototype=new createjs.EventDispatcher;b.src=null;b.uniqueId=-1;b.playState=null;b._owner=null;b._offset=0;b._delay=0;b._volume=1;try{Object.defineProperty(b,"volume",{get:function(){return this._volume},set:function(a){return null==Number(a)?!1:(a=Math.max(0,Math.min(1,a)),this._volume=a,this._updateVolume(),void 0)}})}catch(c){}b._pan=0;try{Object.defineProperty(b,"pan",{get:function(){return this._pan},set:function(a){return this._owner._capabilities.panning&&
null!=Number(a)?(a=Math.max(-1,Math.min(1,a)),this._pan=a,this.panNode.setPosition(a,0,-0.5),void 0):!1}})}catch(e){}b._duration=0;b._remainingLoops=0;b._delayTimeoutId=null;b._soundCompleteTimeout=null;b.gainNode=null;b.panNode=null;b.sourceNode=null;b._sourceNodeNext=null;b._muted=!1;b._paused=!1;b._startTime=0;b._endedHandler=null;b._sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};b._init=function(a,b){this._owner=b;this.src=a;this.gainNode=this._owner.context.createGain();
this.panNode=this._owner.context.createPanner();this.panNode.panningModel=this._owner._panningModel;this.panNode.connect(this.gainNode);this._owner.isPreloadComplete(this.src)&&(this._duration=1E3*this._owner._arrayBuffers[this.src].duration);this._endedHandler=createjs.proxy(this._handleSoundComplete,this)};b._cleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext));
0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._delayTimeoutId);clearTimeout(this._soundCompleteTimeout);this._startTime=0;null!=window.createjs&&createjs.Sound._playFinished(this)};b._cleanUpAudioNode=function(a){return a&&(a.stop(0),a.disconnect(this.panNode),a=null),a};b._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._paused=!1;this._sendEvent("interrupted")};b._handleSoundReady=function(){if(null!=window.createjs){if(1E3*
this._offset>this.getDuration())return this.playFailed(),void 0;0>this._offset&&(this._offset=0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this._paused=!1;this.gainNode.connect(this._owner.gainNode);var a=this._owner._arrayBuffers[this.src].duration;this.sourceNode=this._createAndPlayAudioNode(this._owner.context.currentTime-a,this._offset);this._duration=1E3*a;this._startTime=this.sourceNode.startTime-this._offset;this._soundCompleteTimeout=setTimeout(this._endedHandler,1E3*(a-this._offset));
0!=this._remainingLoops&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0))}};b._createAndPlayAudioNode=function(a,b){var c=this._owner.context.createBufferSource();return c.buffer=this._owner._arrayBuffers[this.src],c.connect(this.panNode),this._owner.context.currentTime,c.startTime=a+c.buffer.duration,c.start(c.startTime,b,c.buffer.duration-b),c};b.play=function(a,b,c,e,r,w){this._cleanUp();createjs.Sound._playInstance(this,a,b,c,e,r,w)};b._beginPlaying=function(a,b,c,e){return null!=
window.createjs&&this.src?(this._offset=a/1E3,this._remainingLoops=b,this.volume=c,this.pan=e,this._owner.isPreloadComplete(this.src)?(this._handleSoundReady(null),this._sendEvent("succeeded"),1):(this.playFailed(),void 0)):void 0};b.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this._paused=!0,this._offset=this._owner.context.currentTime-this._startTime,this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&
this.gainNode.disconnect(),clearTimeout(this._delayTimeoutId),clearTimeout(this._soundCompleteTimeout),!0)};b.resume=function(){return this._paused?(this._handleSoundReady(null),!0):!1};b.stop=function(){return this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._offset=0,!0};b.setVolume=function(a){return this.volume=a,!0};b._updateVolume=function(){var a=this._muted?0:this._volume;return a!=this.gainNode.gain.value?(this.gainNode.gain.value=a,!0):!1};b.getVolume=function(){return this.volume};
b.setMute=function(a){return null==a||void 0==a?!1:(this._muted=a,this._updateVolume(),!0)};b.getMute=function(){return this._muted};b.setPan=function(a){return this.pan=a,this.pan!=a?!1:void 0};b.getPan=function(){return this.pan};b.getPosition=function(){return 1E3*(this._paused||null==this.sourceNode?this._offset:this._owner.context.currentTime-this._startTime)};b.setPosition=function(a){return this._offset=a/1E3,this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._cleanUpAudioNode(this.sourceNode),
this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout)),this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this._handleSoundReady(null),!0};b.getDuration=function(){return this._duration};b._handleSoundComplete=function(){return this._offset=0,0!=this._remainingLoops?(this._remainingLoops--,this._sourceNodeNext?(this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._startTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,
0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)):this._handleSoundReady(null),this._sendEvent("loop"),void 0):(null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")),void 0)};b.playFailed=function(){null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed"))};b.toString=function(){return"[WebAudioPlugin SoundInstance]"};createjs.WebAudioPlugin.SoundInstance=a})();
(function(){function a(a,b){this._init(a,b)}var b=a.prototype;b.request=null;b.owner=null;b.progress=-1;b.src=null;b.originalSrc=null;b.result=null;b.onload=null;b.onprogress=null;b.onError=null;b._init=function(a,b){this.originalSrc=this.src=a;this.owner=b};b.load=function(a){null!=a&&(this.src=a);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,
this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()};b.handleProgress=function(a,b){this.progress=a/b;null!=this.onprogress&&this.onprogress({loaded:a,total:b,progress:this.progress})};b.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))};b.handleAudioDecoded=function(a){this.progress=1;this.result=a;this.src=this.originalSrc;this.owner.addPreloadResults(this.src,
this.result);this.onload&&this.onload()};b.handleError=function(a){this.owner.removeSound(this.src);this.onerror&&this.onerror(a)};b.toString=function(){return"[WebAudioPlugin Loader]"};createjs.WebAudioPlugin.Loader=a})();this.createjs=this.createjs||{};
(function(){function a(){this._init()}a.MAX_INSTANCES=30;a._AUDIO_READY="canplaythrough";a._AUDIO_ENDED="ended";a._AUDIO_SEEKED="seeked";a._AUDIO_STALLED="stalled";a._capabilities=null;a.enableIOS=!1;a.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!a.enableIOS)return!1;a._generateCapabilities();return null==a.tag||null==a._capabilities?!1:!0};a._generateCapabilities=function(){if(null==a._capabilities){var b=a.tag=document.createElement("audio");if(null==b.canPlayType)return null;
a._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,k=createjs.Sound.EXTENSION_MAP,m=0,s=e.length;s>m;m++){var t=e[m],r=k[t]||t;a._capabilities[t]="no"!=b.canPlayType("audio/"+t)&&""!=b.canPlayType("audio/"+t)||"no"!=b.canPlayType("audio/"+r)&&""!=b.canPlayType("audio/"+r)}}};var b=a.prototype;b._capabilities=null;b._audioSources=null;b.defaultNumChannels=2;b.loadedHandler=null;b._init=function(){this._capabilities=a._capabilities;this._audioSources={}};
b.register=function(a,b){this._audioSources[a]=!0;for(var k=createjs.HTMLAudioPlugin.TagPool.get(a),m=null,s=b||this.defaultNumChannels,t=0;s>t;t++)m=this._createTag(a),k.add(m);if(m.id=a,this.loadedHandler=createjs.proxy(this._handleTagLoad,this),m.addEventListener&&m.addEventListener("canplaythrough",this.loadedHandler),null==m.onreadystatechange)m.onreadystatechange=this.loadedHandler;else{var r=m.onreadystatechange;m.onreadystatechange=function(){r();this.loadedHandler()}}return{tag:m,numChannels:s}};
b._handleTagLoad=function(a){a.target.removeEventListener&&a.target.removeEventListener("canplaythrough",this.loadedHandler);a.target.onreadystatechange=null;a.target.src!=a.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(a.target.id)};b._createTag=function(a){var b=document.createElement("audio");return b.autoplay=!1,b.preload="none",b.src=a,b};b.removeSound=function(a){delete this._audioSources[a];createjs.HTMLAudioPlugin.TagPool.remove(a)};b.removeAllSounds=function(){this._audioSources={};
createjs.HTMLAudioPlugin.TagPool.removeAll()};b.create=function(a){if(!this.isPreloadStarted(a)){var b=createjs.HTMLAudioPlugin.TagPool.get(a),k=this._createTag(a);k.id=a;b.add(k);this.preload(a,{tag:k})}return new createjs.HTMLAudioPlugin.SoundInstance(a,this)};b.isPreloadStarted=function(a){return null!=this._audioSources[a]};b.preload=function(a,b){this._audioSources[a]=!0;new createjs.HTMLAudioPlugin.Loader(a,b.tag)};b.toString=function(){return"[HTMLAudioPlugin]"};createjs.HTMLAudioPlugin=a})();
(function(){function a(a,b){this._init(a,b)}var b=a.prototype=new createjs.EventDispatcher;b.src=null;b.uniqueId=-1;b.playState=null;b._owner=null;b.loaded=!1;b._offset=0;b._delay=0;b._volume=1;try{Object.defineProperty(b,"volume",{get:function(){return this._volume},set:function(a){null!=Number(a)&&(a=Math.max(0,Math.min(1,a)),this._volume=a,this._updateVolume())}})}catch(c){}b.pan=0;b._duration=0;b._remainingLoops=0;b._delayTimeoutId=null;b.tag=null;b._muted=!1;b._paused=!1;b._endedHandler=null;
b._readyHandler=null;b._stalledHandler=null;b.loopHandler=null;b._init=function(a,b){this.src=a;this._owner=b;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleSoundReady,this);this._stalledHandler=createjs.proxy(this._handleSoundStalled,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)};b._sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};b._cleanUp=function(){var a=this.tag;if(null!=a){a.pause();a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,
this._endedHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{a.currentTime=0}catch(b){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,a);this.tag=null}clearTimeout(this._delayTimeoutId);null!=window.createjs&&createjs.Sound._playFinished(this)};b._interrupt=function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this._cleanUp(),this._paused=!1,
this._sendEvent("interrupted"))};b.play=function(a,b,c,s,t,r){this._cleanUp();createjs.Sound._playInstance(this,a,b,c,s,t,r)};b._beginPlaying=function(a,b,c,s){if(null==window.createjs)return-1;var t=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==t?(this.playFailed(),-1):(t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._offset=a,this.volume=c,this.pan=s,this._updateVolume(),this._remainingLoops=b,4!==t.readyState?(t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,
this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",t.load()):this._handleSoundReady(null),this._sendEvent("succeeded"),1)};b._handleSoundStalled=function(){this._cleanUp();this._sendEvent("failed")};b._handleSoundReady=function(){if(null!=window.createjs){if(this._duration=1E3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this._paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,
!1),this._offset>=this.getDuration())return this.playFailed(),void 0;0<this._offset&&(this.tag.currentTime=0.0010*this._offset);-1==this._remainingLoops&&(this.tag.loop=!0);0!=this._remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0);this.tag.play()}};b.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==this.tag?!1:(this._paused=!0,this.tag.pause(),clearTimeout(this._delayTimeoutId),!0)};b.resume=
function(){return this._paused&&null!=this.tag?(this._paused=!1,this.tag.play(),!0):!1};b.stop=function(){return this._offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),!0};b.setMasterVolume=function(){return this._updateVolume(),!0};b.setVolume=function(a){return this.volume=a,!0};b._updateVolume=function(){if(null!=this.tag){var a=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;return a!=this.tag.volume&&(this.tag.volume=a),!0}return!1};
b.getVolume=function(){return this.volume};b.setMasterMute=function(){return this._updateVolume(),!0};b.setMute=function(a){return null==a||void 0==a?!1:(this._muted=a,this._updateVolume(),!0)};b.getMute=function(){return this._muted};b.setPan=function(){return!1};b.getPan=function(){return 0};b.getPosition=function(){return null==this.tag?this._offset:1E3*this.tag.currentTime};b.setPosition=function(a){if(null==this.tag)this._offset=a;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,
this.loopHandler,!1);try{this.tag.currentTime=0.0010*a}catch(b){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1)}return!0};b.getDuration=function(){return this._duration};b._handleSoundComplete=function(){this._offset=0;null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),this._sendEvent("complete"))};b.handleSoundLoop=function(){this._offset=0;this._remainingLoops--;0==this._remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,
this.loopHandler,!1));this._sendEvent("loop")};b.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this._cleanUp(),this._sendEvent("failed"))};b.toString=function(){return"[HTMLAudioPlugin SoundInstance]"};createjs.HTMLAudioPlugin.SoundInstance=a})();
(function(){function a(a,b){this._init(a,b)}var b=a.prototype;b.src=null;b.tag=null;b.preloadTimer=null;b.loadedHandler=null;b._init=function(a,b){if(this.src=a,this.tag=b,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var k=
this.tag.onreadystatechange;this.tag.onreadystatechange=function(){k();this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto";this.tag.load()};b.preloadTick=function(){var a=this.tag.buffered,b=this.tag.duration;0<a.length&&a.end(0)>=b-1&&this.handleTagLoaded()};b.handleTagLoaded=function(){clearInterval(this.preloadTimer)};b.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=
null;createjs.Sound._sendFileLoadEvent(this.src)};b.toString=function(){return"[HTMLAudioPlugin Loader]"};createjs.HTMLAudioPlugin.Loader=a})();
(function(){function a(a){this._init(a)}a.tags={};a.get=function(b){var e=a.tags[b];return null==e&&(e=a.tags[b]=new a(b)),e};a.remove=function(b){var e=a.tags[b];return null==e?!1:(e.removeAll(),delete a.tags[b],!0)};a.removeAll=function(){for(var b in a.tags)a.tags[b].removeAll();a.tags={}};a.getInstance=function(b){b=a.tags[b];return null==b?null:b.get()};a.setInstance=function(b,e){var k=a.tags[b];return null==k?null:k.set(e)};a.checkSrc=function(b){b=a.tags[b];return null==b?null:(b.checkSrcChange(),
void 0)};var b=a.prototype;b.src=null;b.length=0;b.available=0;b.tags=null;b._init=function(a){this.src=a;this.tags=[]};b.add=function(a){this.tags.push(a);this.length++;this.available++};b.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null;this.tags.length=0};b.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var a=this.tags.pop();return null==a.parentNode&&document.body.appendChild(a),a};b.set=function(a){-1==createjs.indexOf(this.tags,
a)&&this.tags.push(a);this.available=this.tags.length};b.checkSrcChange=function(){for(var a=this.tags.length-1,b=this.tags[a].src;a--;)this.tags[a].src=b};b.toString=function(){return"[HTMLAudioPlugin TagPool]"};createjs.HTMLAudioPlugin.TagPool=a})();
function SoundManager(a,b){createjs.Sound.alternateExtensions=["wav"];for(var c=[],e=0;e<a.length;e++)c.push({id:e+"",src:a[e]});var k=0;createjs.Sound.addEventListener("fileload",function(c){k++;k==a.length&&b()});createjs.Sound.registerManifest(c);this.m_instances=[];this.m_muted=!1}SoundManager.prototype.removeInstance=function(a){a=this.m_instances.indexOf(a,0);-1!=a&&this.m_instances.splice(a,1)};SoundManager.prototype.addInstance=function(a){this.m_instances.push(a)};
SoundManager.prototype.play=function(a,b,c,e){var k=createjs.Sound.play(a+"",createjs.Sound.INTERRUPT_ANY,0,0,void 0==c?0:c,void 0==e?1:e,0);k.setMute(this.m_muted);this.addInstance(k);var m=this;k.addEventListener("complete",function(){m.removeInstance(k);b&&b()})};SoundManager.prototype.isMuted=function(){return this.m_muted};SoundManager.prototype.mute=function(a){this.m_muted=a;for(var b=0;b<this.m_instances.length;b++)this.m_instances[b].setMute(a)};
(function(a,b){function c(f){var a=f.length,b=d.type(f);return d.isWindow(f)?!1:1===f.nodeType&&a?!0:"array"===b||"function"!==b&&(0===a||"number"==typeof a&&0<a&&a-1 in f)}function e(f){var a=bb[f]={};return d.each(f.match(X)||[],function(f,b){a[b]=!0}),a}function k(f,a,h,g){if(d.acceptData(f)){var n,q,c=d.expando,v=f.nodeType,e=v?d.cache:f,k=v?f[c]:f[c]&&c;if(k&&e[k]&&(g||e[k].data)||h!==b||"string"!=typeof a)return k||(k=v?f[c]=ra.pop()||d.guid++:c),e[k]||(e[k]=v?{}:{toJSON:d.noop}),("object"==
typeof a||"function"==typeof a)&&(g?e[k]=d.extend(e[k],a):e[k].data=d.extend(e[k].data,a)),q=e[k],g||(q.data||(q.data={}),q=q.data),h!==b&&(q[d.camelCase(a)]=h),"string"==typeof a?(n=q[a],null==n&&(n=q[d.camelCase(a)])):n=q,n}}function m(f,a,b){if(d.acceptData(f)){var g,n,q=f.nodeType,c=q?d.cache:f,v=q?f[d.expando]:d.expando;if(c[v]){if(a&&(g=b?c[v]:c[v].data)){d.isArray(a)?a=a.concat(d.map(a,d.camelCase)):a in g?a=[a]:(a=d.camelCase(a),a=a in g?[a]:a.split(" "));for(n=a.length;n--;)delete g[a[n]];
if(b?!t(g):!d.isEmptyObject(g))return}(b||(delete c[v].data,t(c[v])))&&(q?d.cleanData([f],!0):d.support.deleteExpando||c!=c.window?delete c[v]:c[v]=null)}}}function s(f,a,h){if(h===b&&1===f.nodeType){var g="data-"+a.replace(Lb,"-$1").toLowerCase();if(h=f.getAttribute(g),"string"==typeof h){try{h="true"===h?!0:"false"===h?!1:"null"===h?null:+h+""===h?+h:Mb.test(h)?d.parseJSON(h):h}catch(n){}d.data(f,a,h)}else h=b}return h}function t(f){for(var a in f)if(("data"!==a||!d.isEmptyObject(f[a]))&&"toJSON"!==
a)return!1;return!0}function r(){return!0}function w(){return!1}function y(){try{return x.activeElement}catch(f){}}function C(f,a){do f=f[a];while(f&&1!==f.nodeType);return f}function B(f,a,b){if(d.isFunction(a))return d.grep(f,function(f,d){return!!a.call(f,d,f)!==b});if(a.nodeType)return d.grep(f,function(f){return f===a!==b});if("string"==typeof a){if(Nb.test(a))return d.filter(a,f,b);a=d.filter(a,f)}return d.grep(f,function(f){return 0<=d.inArray(f,a)!==b})}function F(f){var a=cb.split("|");f=
f.createDocumentFragment();if(f.createElement)for(;a.length;)f.createElement(a.pop());return f}function A(f,a){return d.nodeName(f,"table")&&d.nodeName(1===a.nodeType?a:a.firstChild,"tr")?f.getElementsByTagName("tbody")[0]||f.appendChild(f.ownerDocument.createElement("tbody")):f}function D(f){return f.type=(null!==d.find.attr(f,"type"))+"/"+f.type,f}function G(f){var a=Ob.exec(f.type);return a?f.type=a[1]:f.removeAttribute("type"),f}function K(f,a){for(var b,g=0;null!=(b=f[g]);g++)d._data(b,"globalEval",
!a||d._data(a[g],"globalEval"))}function J(f,a){if(1===a.nodeType&&d.hasData(f)){var b,g,n;g=d._data(f);var q=d._data(a,g),c=g.events;if(c)for(b in delete q.handle,q.events={},c)for(g=0,n=c[b].length;n>g;g++)d.event.add(a,b,c[b][g]);q.data&&(q.data=d.extend({},q.data))}}function E(f,a){var h,g,n=0,c=typeof f.getElementsByTagName!==Q?f.getElementsByTagName(a||"*"):typeof f.querySelectorAll!==Q?f.querySelectorAll(a||"*"):b;if(!c)for(c=[],h=f.childNodes||f;null!=(g=h[n]);n++)!a||d.nodeName(g,a)?c.push(g):
d.merge(c,E(g,a));return a===b||a&&d.nodeName(f,a)?d.merge([f],c):c}function sa(f){Na.test(f.type)&&(f.defaultChecked=f.checked)}function ta(f,a){if(a in f)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),d=a,n=db.length;n--;)if(a=db[n]+b,a in f)return a;return d}function H(f,a){return f=a||f,"none"===d.css(f,"display")||!d.contains(f.ownerDocument,f)}function ea(f,a){for(var b,g,n,c=[],l=0,v=f.length;v>l;l++)g=f[l],g.style&&(c[l]=d._data(g,"olddisplay"),b=g.style.display,a?(c[l]||"none"!==
b||(g.style.display=""),""===g.style.display&&H(g)&&(c[l]=d._data(g,"olddisplay",Y(g.nodeName)))):c[l]||(n=H(g),(b&&"none"!==b||!n)&&d._data(g,"olddisplay",n?b:d.css(g,"display"))));for(l=0;v>l;l++)g=f[l],g.style&&(a&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=a?c[l]||"":"none"));return f}function R(f,a,b){return(f=Pb.exec(a))?Math.max(0,f[1]-(b||0))+(f[2]||"px"):a}function U(f,a,b,g,n){a=b===(g?"border":"content")?4:"width"===a?1:0;for(var c=0;4>a;a+=2)"margin"===b&&(c+=d.css(f,
b+fa[a],!0,n)),g?("content"===b&&(c-=d.css(f,"padding"+fa[a],!0,n)),"margin"!==b&&(c-=d.css(f,"border"+fa[a]+"Width",!0,n))):(c+=d.css(f,"padding"+fa[a],!0,n),"padding"!==b&&(c+=d.css(f,"border"+fa[a]+"Width",!0,n)));return c}function aa(f,a,b){var g=!0,n="width"===a?f.offsetWidth:f.offsetHeight,c=ga(f),l=d.support.boxSizing&&"border-box"===d.css(f,"boxSizing",!1,c);if(0>=n||null==n){if(n=ba(f,a,c),(0>n||null==n)&&(n=f.style[a]),Ea.test(n))return n;g=l&&(d.support.boxSizingReliable||n===f.style[a]);
n=parseFloat(n)||0}return n+U(f,a,b||(l?"border":"content"),g,c)+"px"}function Y(f){var a=x,b=eb[f];return b||(b=ha(f,a),"none"!==b&&b||(za=(za||d("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(a.documentElement),a=(za[0].contentWindow||za[0].contentDocument).document,a.write("<!doctype html><html><body>"),a.close(),b=ha(f,a),za.detach()),eb[f]=b),b}function ha(f,a){var b=d(a.createElement(f)).appendTo(a.body),g=d.css(b[0],"display");return b.remove(),
g}function N(f,a,b,g){var n;if(d.isArray(a))d.each(a,function(a,p){b||Qb.test(f)?g(f,p):N(f+"["+("object"==typeof p?a:"")+"]",p,b,g)});else if(b||"object"!==d.type(a))g(f,a);else for(n in a)N(f+"["+n+"]",a[n],b,g)}function Z(f){return function(a,b){"string"!=typeof a&&(b=a,a="*");var g,n=0,c=a.toLowerCase().match(X)||[];if(d.isFunction(b))for(;g=c[n++];)"+"===g[0]?(g=g.slice(1)||"*",(f[g]=f[g]||[]).unshift(b)):(f[g]=f[g]||[]).push(b)}}function fb(f,a,h,g){function n(v){var e;return c[v]=!0,d.each(f[v]||
[],function(f,d){var v=d(a,h,g);return"string"!=typeof v||l||c[v]?l?!(e=v):b:(a.dataTypes.unshift(v),n(v),!1)}),e}var c={},l=f===Oa;return n(a.dataTypes[0])||!c["*"]&&n("*")}function Pa(f,a){var h,g,n=d.ajaxSettings.flatOptions||{};for(g in a)a[g]!==b&&((n[g]?f:h||(h={}))[g]=a[g]);return h&&d.extend(!0,f,h),f}function gb(){try{return new a.XMLHttpRequest}catch(f){}}function hb(){return setTimeout(function(){ca=b}),ca=d.now()}function ib(f,a,b){for(var d,n=(Aa[a]||[]).concat(Aa["*"]),c=0,l=n.length;l>
c;c++)if(d=n[c].call(b,a,f))return d}function jb(f,a,b){var g,n=0,c=Fa.length,l=d.Deferred().always(function(){delete v.elem}),v=function(){if(g)return!1;for(var a=ca||hb(),a=Math.max(0,e.startTime+e.duration-a),b=1-(a/e.duration||0),d=0,p=e.tweens.length;p>d;d++)e.tweens[d].run(b);return l.notifyWith(f,[e,b,a]),1>b&&p?a:(l.resolveWith(f,[e]),!1)},e=l.promise({elem:f,props:d.extend({},a),opts:d.extend(!0,{specialEasing:{}},b),originalProperties:a,originalOptions:b,startTime:ca||hb(),duration:b.duration,
tweens:[],createTween:function(a,b){var p=d.Tween(f,e.opts,a,b,e.opts.specialEasing[a]||e.opts.easing);return e.tweens.push(p),p},stop:function(a){var b=0,d=a?e.tweens.length:0;if(g)return this;for(g=!0;d>b;b++)e.tweens[b].run(1);return a?l.resolveWith(f,[e,a]):l.rejectWith(f,[e,a]),this}});b=e.props;for(Rb(b,e.opts.specialEasing);c>n;n++)if(a=Fa[n].call(e,f,b,e.opts))return a;return d.map(b,ib,e),d.isFunction(e.opts.start)&&e.opts.start.call(f,e),d.fx.timer(d.extend(v,{elem:f,anim:e,queue:e.opts.queue})),
e.progress(e.opts.progress).done(e.opts.done,e.opts.complete).fail(e.opts.fail).always(e.opts.always)}function Rb(f,a){var b,g,n,c,l;for(b in f)if(g=d.camelCase(b),n=a[g],c=f[b],d.isArray(c)&&(n=c[1],c=f[b]=c[0]),b!==g&&(f[g]=c,delete f[b]),l=d.cssHooks[g],l&&"expand"in l)for(b in c=l.expand(c),delete f[g],c)b in f||(f[b]=c[b],a[b]=n);else a[g]=n}function M(a,b,d,g,n){return new M.prototype.init(a,b,d,g,n)}function Ga(a,b){var d,g={height:a},n=0;for(b=b?1:0;4>n;n+=2-b)d=fa[n],g["margin"+d]=g["padding"+
d]=a;return b&&(g.opacity=g.width=a),g}function kb(a){return d.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Ha,lb,Q=typeof b,Sb=a.location,x=a.document,mb=x.documentElement,Tb=a.jQuery,Ub=a.$,Ia={},ra=[],nb=ra.concat,Qa=ra.push,oa=ra.slice,ob=ra.indexOf,Vb=Ia.toString,ia=Ia.hasOwnProperty,Ra="1.10.2".trim,d=function(a,b){return new d.fn.init(a,b,lb)},Ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=/\S+/g,Wb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Xb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
pb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Yb=/^[\],:{}\s]*$/,Zb=/(?:^|:|,)(?:\s*\[)+/g,$b=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ac=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bc=/^-ms-/,cc=/-([\da-z])/gi,dc=function(a,b){return b.toUpperCase()},ja=function(a){(x.addEventListener||"load"===a.type||"complete"===x.readyState)&&(qb(),d.ready())},qb=function(){x.addEventListener?(x.removeEventListener("DOMContentLoaded",ja,!1),a.removeEventListener("load",ja,!1)):(x.detachEvent("onreadystatechange",
ja),a.detachEvent("onload",ja))};d.fn=d.prototype={jquery:"1.10.2",constructor:d,init:function(a,p,h){var g,n;if(!a)return this;if("string"==typeof a){if(g="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Xb.exec(a),!g||!g[1]&&p)return!p||p.jquery?(p||h).find(a):this.constructor(p).find(a);if(g[1]){if(p=p instanceof d?p[0]:p,d.merge(this,d.parseHTML(g[1],p&&p.nodeType?p.ownerDocument||p:x,!0)),pb.test(g[1])&&d.isPlainObject(p))for(g in p)d.isFunction(this[g])?this[g](p[g]):
this.attr(g,p[g]);return this}if(n=x.getElementById(g[2]),n&&n.parentNode){if(n.id!==g[2])return h.find(a);this.length=1;this[0]=n}return this.context=x,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):d.isFunction(a)?h.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),d.makeArray(a,this))},selector:"",length:0,toArray:function(){return oa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=
d.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return d.each(this,a,b)},ready:function(a){return d.ready.promise().done(a),this},slice:function(){return this.pushStack(oa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},map:function(a){return this.pushStack(d.map(this,function(b,d){return a.call(b,d,b)}))},
end:function(){return this.prevObject||this.constructor(null)},push:Qa,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var a,p,h,g,n,c,l=arguments[0]||{},e=1,k=arguments.length,m=!1;"boolean"==typeof l&&(m=l,l=arguments[1]||{},e=2);"object"==typeof l||d.isFunction(l)||(l={});for(k===e&&(l=this,--e);k>e;e++)if(null!=(n=arguments[e]))for(g in n)a=l[g],h=n[g],l!==h&&(m&&h&&(d.isPlainObject(h)||(p=d.isArray(h)))?(p?(p=!1,c=a&&d.isArray(a)?a:[]):c=a&&d.isPlainObject(a)?
a:{},l[g]=d.extend(m,c,h)):h!==b&&(l[g]=h));return l};d.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(f){return a.$===d&&(a.$=Ub),f&&a.jQuery===d&&(a.jQuery=Tb),d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(!0===a?!--d.readyWait:!d.isReady){if(!x.body)return setTimeout(d.ready);d.isReady=!0;!0!==a&&0<--d.readyWait||(Ha.resolveWith(x,[d]),d.fn.trigger&&d(x).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===
d.type(a)},isArray:Array.isArray||function(a){return"array"===d.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Ia[Vb.call(a)]||"object":typeof a},isPlainObject:function(a){var p;if(!a||"object"!==d.type(a)||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!ia.call(a,"constructor")&&!ia.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}if(d.support.ownLast)for(p in a)return ia.call(a,
p);for(p in a);return p===b||ia.call(a,p)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,h){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(h=b,b=!1);b=b||x;var g=pb.exec(a);h=!h&&[];return g?[b.createElement(g[1])]:(g=d.buildFragment([a],b,h),h&&d(h).remove(),d.merge([],g.childNodes))},parseJSON:function(f){return a.JSON&&a.JSON.parse?a.JSON.parse(f):null===f?f:"string"==typeof f&&(f=d.trim(f),f&&Yb.test(f.replace($b,
"@").replace(ac,"]").replace(Zb,"")))?Function("return "+f)():(d.error("Invalid JSON: "+f),b)},parseXML:function(f){var p,h;if(!f||"string"!=typeof f)return null;try{a.DOMParser?(h=new DOMParser,p=h.parseFromString(f,"text/xml")):(p=new ActiveXObject("Microsoft.XMLDOM"),p.async="false",p.loadXML(f))}catch(g){p=b}return p&&p.documentElement&&!p.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+f),p},noop:function(){},globalEval:function(f){f&&d.trim(f)&&(a.execScript||function(f){a.eval.call(a,
f)})(f)},camelCase:function(a){return a.replace(bc,"ms-").replace(cc,dc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var g,n=0,q=a.length,l=c(a);if(d)if(l)for(;q>n&&(g=b.apply(a[n],d),!1!==g);n++);else for(n in a){if(g=b.apply(a[n],d),!1===g)break}else if(l)for(;q>n&&(g=b.call(a[n],n,a[n]),!1!==g);n++);else for(n in a)if(g=b.call(a[n],n,a[n]),!1===g)break;return a},trim:Ra&&!Ra.call("\ufeff\u00a0")?function(a){return null==a?"":Ra.call(a)}:
function(a){return null==a?"":(a+"").replace(Wb,"")},makeArray:function(a,b){var h=b||[];return null!=a&&(c(Object(a))?d.merge(h,"string"==typeof a?[a]:a):Qa.call(h,a)),h},inArray:function(a,b,d){var g;if(b){if(ob)return ob.call(b,a,d);g=b.length;for(d=d?0>d?Math.max(0,g+d):d:0;g>d;d++)if(d in b&&b[d]===a)return d}return-1},merge:function(a,d){var h=d.length,g=a.length,n=0;if("number"==typeof h)for(;h>n;n++)a[g++]=d[n];else for(;d[n]!==b;)a[g++]=d[n++];return a.length=g,a},grep:function(a,b,d){var g,
n=[],c=0,l=a.length;for(d=!!d;l>c;c++)g=!!b(a[c],c),d!==g&&n.push(a[c]);return n},map:function(a,b,d){var g,n=0,q=a.length,l=[];if(c(a))for(;q>n;n++)g=b(a[n],n,d),null!=g&&(l[l.length]=g);else for(n in a)g=b(a[n],n,d),null!=g&&(l[l.length]=g);return nb.apply([],l)},guid:1,proxy:function(a,p){var h,g,n;return"string"==typeof p&&(n=a[p],p=a,a=n),d.isFunction(a)?(h=oa.call(arguments,2),g=function(){return a.apply(p||this,h.concat(oa.call(arguments)))},g.guid=a.guid=a.guid||d.guid++,g):b},access:function(a,
p,h,g,n,c,l){var e=0,k=a.length,m=null==h;if("object"===d.type(h))for(e in n=!0,h)d.access(a,p,e,h[e],!0,c,l);else if(g!==b&&(n=!0,d.isFunction(g)||(l=!0),m&&(l?(p.call(a,g),p=null):(m=p,p=function(a,f,b){return m.call(d(a),b)})),p))for(;k>e;e++)p(a[e],h,l?g:g.call(a[e],e,p(a[e],h)));return n?a:m?p.call(a):k?p(a[0],h):c},now:function(){return(new Date).getTime()},swap:function(a,b,d,g){var n,c={};for(n in b)c[n]=a.style[n],a.style[n]=b[n];d=d.apply(a,g||[]);for(n in b)a.style[n]=c[n];return d}});
d.ready.promise=function(f){if(!Ha)if(Ha=d.Deferred(),"complete"===x.readyState)setTimeout(d.ready);else if(x.addEventListener)x.addEventListener("DOMContentLoaded",ja,!1),a.addEventListener("load",ja,!1);else{x.attachEvent("onreadystatechange",ja);a.attachEvent("onload",ja);var b=!1;try{b=null==a.frameElement&&x.documentElement}catch(h){}b&&b.doScroll&&function n(){if(!d.isReady){try{b.doScroll("left")}catch(a){return setTimeout(n,50)}qb();d.ready()}}()}return Ha.promise(f)};d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){Ia["[object "+b+"]"]=b.toLowerCase()});lb=d(x);(function(a,b){function h(a,f,b,d){var p,h,g,c,n;if((f?f.ownerDocument||f:pa)!==S&&Ba(f),f=f||S,b=b||[],!a||"string"!=typeof a)return b;if(1!==(c=f.nodeType)&&9!==c)return[];if(ka&&!d){if(p=xa.exec(a))if(g=p[1])if(9===c){if(h=f.getElementById(g),!h||!h.parentNode)return b;if(h.id===g)return b.push(h),b}else{if(f.ownerDocument&&(h=f.ownerDocument.getElementById(g))&&L(f,h)&&h.id===g)return b.push(h),b}else{if(p[2])return ua.apply(b,f.getElementsByTagName(a)),
b;if((g=p[3])&&z.getElementsByClassName&&f.getElementsByClassName)return ua.apply(b,f.getElementsByClassName(g)),b}if(z.qsa&&(!W||!W.test(a))){if(h=p=O,g=f,n=9===c&&a,1===c&&"object"!==f.nodeName.toLowerCase()){c=t(a);(p=f.getAttribute("id"))?h=p.replace(Aa,"\\$&"):f.setAttribute("id",h);h="[id='"+h+"'] ";for(g=c.length;g--;)c[g]=h+s(c[g]);g=da.test(a)&&f.parentNode||f;n=c.join(",")}if(n)try{return ua.apply(b,g.querySelectorAll(n)),b}catch(l){}finally{p||f.removeAttribute("id")}}}var q;a:{a=a.replace(Z,
"$1");var e,v;h=t(a);if(!d&&1===h.length){if(q=h[0]=h[0].slice(0),2<q.length&&"ID"===(e=q[0]).type&&z.getById&&9===f.nodeType&&ka&&I.relative[q[1].type]){if(f=(I.find.ID(e.matches[0].replace(va,wa),f)||[])[0],!f){q=b;break a}a=a.slice(q.shift().value.length)}for(c=ca.needsContext.test(a)?0:q.length;c--&&(e=q[c],!I.relative[p=e.type]);)if((v=I.find[p])&&(d=v(e.matches[0].replace(va,wa),da.test(q[0].type)&&f.parentNode||f))){if(q.splice(c,1),a=d.length&&s(q),!a){q=(ua.apply(b,d),b);break a}break}}q=
(J(a,h)(d,f,!ka,b,da.test(a)),b)}return q}function g(){function a(b,d){return f.push(b+=" ")>I.cacheLength&&delete a[f.shift()],a[b]=d}var f=[];return a}function n(a){return a[O]=!0,a}function c(a){var f=S.createElement("div");try{return!!a(f)}catch(b){return!1}finally{f.parentNode&&f.parentNode.removeChild(f)}}function l(a,f){for(var b=a.split("|"),d=a.length;d--;)I.attrHandle[b[d]]=f}function e(a,f){var b=f&&a,d=b&&1===a.nodeType&&1===f.nodeType&&(~f.sourceIndex||aa)-(~a.sourceIndex||aa);if(d)return d;
if(b)for(;b=b.nextSibling;)if(b===f)return-1;return a?1:-1}function k(a){return function(f){return"input"===f.nodeName.toLowerCase()&&f.type===a}}function m(a){return function(f){var b=f.nodeName.toLowerCase();return("input"===b||"button"===b)&&f.type===a}}function r(a){return n(function(f){return f=+f,n(function(b,d){for(var p,h=a([],b.length,f),g=h.length;g--;)b[p=h[g]]&&(b[p]=!(d[p]=b[p]))})})}function u(){}function t(a,f){var b,d,p,g,c,n,q;if(c=T[a+" "])return f?0:c.slice(0);c=a;n=[];for(q=I.preFilter;c;){b&&
!(d=oa.exec(c))||(d&&(c=c.slice(d[0].length)||c),n.push(p=[]));b=!1;(d=qa.exec(c))&&(b=d.shift(),p.push({value:b,type:d[0].replace(Z," ")}),c=c.slice(b.length));for(g in I.filter)!(d=ca[g].exec(c))||q[g]&&!(d=q[g](d))||(b=d.shift(),p.push({value:b,type:g,matches:d}),c=c.slice(b.length));if(!b)break}return f?c.length:c?h.error(a):T(a,n).slice(0)}function s(a){for(var f=0,b=a.length,d="";b>f;f++)d+=a[f].value;return d}function w(a,f,b){var d=f.dir,p=b&&"parentNode"===d,h=fc++;return f.first?function(f,
b,h){for(;f=f[d];)if(1===f.nodeType||p)return a(f,b,h)}:function(f,b,g){var c,n,q,l=la+" "+h;if(g)for(;f=f[d];){if((1===f.nodeType||p)&&a(f,b,g))return!0}else for(;f=f[d];)if(1===f.nodeType||p)if(q=f[O]||(f[O]={}),(n=q[d])&&n[0]===l){if(!0===(c=n[1])||c===C)return!0===c}else if(n=q[d]=[l],n[1]=a(f,b,g)||C,!0===n[1])return!0}}function y(a){return 1<a.length?function(f,b,d){for(var p=a.length;p--;)if(!a[p](f,b,d))return!1;return!0}:a[0]}function x(a,f,b,d,p){for(var h,g=[],c=0,n=a.length,q=null!=f;n>
c;c++)(h=a[c])&&(!b||b(h,d,p))&&(g.push(h),q&&f.push(c));return g}function E(a,f,b,d,p,g){return d&&!d[O]&&(d=E(d)),p&&!p[O]&&(p=E(p,g)),n(function(g,c,n,q){var l,e,v=[],k=[],u=c.length,m;if(!(m=g)){m=f||"*";for(var P=n.nodeType?[n]:n,r=[],Ca=0,t=P.length;t>Ca;Ca++)h(m,P[Ca],r);m=r}m=!a||!g&&f?m:x(m,v,a,n,q);P=b?p||(g?a:u||d)?[]:c:m;if(b&&b(m,P,n,q),d)for(l=x(P,k),d(l,[],n,q),n=l.length;n--;)(e=l[n])&&(P[k[n]]=!(m[k[n]]=e));if(g){if(p||a){if(p){l=[];for(n=P.length;n--;)(e=P[n])&&l.push(m[n]=e);p(null,
P=[],l,q)}for(n=P.length;n--;)(e=P[n])&&-1<(l=p?R.call(g,e):v[n])&&(g[l]=!(c[l]=e))}}else P=x(P===c?P.splice(u,P.length):P),p?p(null,c,P,q):ua.apply(c,P)})}function A(a){var f,b,d,p=a.length,h=I.relative[a[0].type];b=h||I.relative[" "];for(var g=h?1:0,c=w(function(a){return a===f},b,!0),n=w(function(a){return-1<R.call(f,a)},b,!0),q=[function(a,b,d){return!h&&(d||b!==G)||((f=b).nodeType?c(a,b,d):n(a,b,d))}];p>g;g++)if(b=I.relative[a[g].type])q=[w(y(q),b)];else{if(b=I.filter[a[g].type].apply(null,a[g].matches),
b[O]){for(d=++g;p>d&&!I.relative[a[d].type];d++);return E(1<g&&y(q),1<g&&s(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(Z,"$1"),b,d>g&&A(a.slice(g,d)),p>d&&A(a=a.slice(d)),p>d&&s(a))}q.push(b)}return y(q)}function B(a,f){var b=0,d=0<f.length,p=0<a.length,g=function(g,c,n,q,l){var e,v,k=[],u=0,m="0",P=g&&[],r=null!=l,Ca=G,t=g||p&&I.find.TAG("*",l&&c.parentNode||c),V=la+=null==Ca?1:Math.random()||0.1;for(r&&(G=c!==S&&c,C=b);null!=(l=t[m]);m++){if(p&&l){for(e=0;v=a[e++];)if(v(l,c,
n)){q.push(l);break}r&&(la=V,C=++b)}d&&((l=!v&&l)&&u--,g&&P.push(l))}if(u+=m,d&&m!==u){for(e=0;v=f[e++];)v(P,k,c,n);if(g){if(0<u)for(;m--;)P[m]||k[m]||(k[m]=ja.call(q));k=x(k)}ua.apply(q,k);r&&!g&&0<k.length&&1<u+f.length&&h.uniqueSort(q)}return r&&(la=V,G=Ca),P};return d?n(g):g}var F,z,C,I,D,rb,J,G,H,Ba,S,ma,ka,W,K,Ka,L,O="sizzle"+-new Date,pa=a.document,la=0,fc=0,M=g(),T=g(),X=g(),Q=!1,Y=function(a,f){return a===f?(Q=!0,0):0},U=typeof b,aa=-2147483648,ha={}.hasOwnProperty,N=[],ja=N.pop,na=N.push,
ua=N.push,ea=N.slice,R=N.indexOf||function(a){for(var f=0,b=this.length;b>f;f++)if(this[f]===a)return f;return-1},fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ga="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fa+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ba=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",Z=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$",
"g"),oa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,qa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,da=/[\x20\t\r\n\f]*[+~]/,ra=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),sa=RegExp(ba),ta=RegExp("^"+fa+"$"),ca={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ga),PSEUDO:RegExp("^"+ba),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ia=/^[^{]+\{\s*\[native \w/,xa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ya=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,Aa=/'|\\/g,va=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)",
"ig"),wa=function(a,f,b){a="0x"+f-65536;return a!==a||b?f:0>a?String.fromCharCode(a+65536):String.fromCharCode(55296|a>>10,56320|1023&a)};try{ua.apply(N=ea.call(pa.childNodes),pa.childNodes),N[pa.childNodes.length].nodeType}catch(Da){ua={apply:N.length?function(a,f){na.apply(a,ea.call(f))}:function(a,f){for(var b=a.length,d=0;a[b++]=f[d++];);a.length=b-1}}}rb=h.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};z=h.support={};Ba=h.setDocument=function(a){var f=
a?a.ownerDocument||a:pa;a=f.defaultView;return f!==S&&9===f.nodeType&&f.documentElement?(S=f,ma=f.documentElement,ka=!rb(f),a&&a.attachEvent&&a!==a.top&&a.attachEvent("onbeforeunload",function(){Ba()}),z.attributes=c(function(a){return a.className="i",!a.getAttribute("className")}),z.getElementsByTagName=c(function(a){return a.appendChild(f.createComment("")),!a.getElementsByTagName("*").length}),z.getElementsByClassName=c(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",
a.firstChild.className="i",2===a.getElementsByClassName("i").length}),z.getById=c(function(a){return ma.appendChild(a).id=O,!f.getElementsByName||!f.getElementsByName(O).length}),z.getById?(I.find.ID=function(a,f){if(typeof f.getElementById!==U&&ka){var b=f.getElementById(a);return b&&b.parentNode?[b]:[]}},I.filter.ID=function(a){var f=a.replace(va,wa);return function(a){return a.getAttribute("id")===f}}):(delete I.find.ID,I.filter.ID=function(a){var f=a.replace(va,wa);return function(a){return(a=
typeof a.getAttributeNode!==U&&a.getAttributeNode("id"))&&a.value===f}}),I.find.TAG=z.getElementsByTagName?function(a,f){return typeof f.getElementsByTagName!==U?f.getElementsByTagName(a):b}:function(a,f){var b,d=[],p=0,h=f.getElementsByTagName(a);if("*"===a){for(;b=h[p++];)1===b.nodeType&&d.push(b);return d}return h},I.find.CLASS=z.getElementsByClassName&&function(a,f){return typeof f.getElementsByClassName!==U&&ka?f.getElementsByClassName(a):b},K=[],W=[],(z.qsa=ia.test(f.querySelectorAll))&&(c(function(a){a.innerHTML=
"<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||W.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||W.push(":checked")}),c(function(a){var b=f.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("t","");a.querySelectorAll("[t^='']").length&&W.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
a.querySelectorAll(":enabled").length||W.push(":enabled",":disabled");a.querySelectorAll("*,:x");W.push(",.*:")})),(z.matchesSelector=ia.test(Ka=ma.webkitMatchesSelector||ma.mozMatchesSelector||ma.oMatchesSelector||ma.msMatchesSelector))&&c(function(a){z.disconnectedMatch=Ka.call(a,"div");Ka.call(a,"[s!='']:x");K.push("!=",ba)}),W=W.length&&RegExp(W.join("|")),K=K.length&&RegExp(K.join("|")),L=ia.test(ma.contains)||ma.compareDocumentPosition?function(a,f){var b=9===a.nodeType?a.documentElement:a,
d=f&&f.parentNode;return a===d||!(!d||1!==d.nodeType||!(b.contains?b.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,f){if(f)for(;f=f.parentNode;)if(f===a)return!0;return!1},Y=ma.compareDocumentPosition?function(a,b){if(a===b)return Q=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||!z.sortDetached&&b.compareDocumentPosition(a)===d?a===f||L(pa,a)?-1:b===f||L(pa,b)?1:H?R.call(H,a)-R.call(H,b):0:4&d?-1:1:
a.compareDocumentPosition?-1:1}:function(a,b){var d,p=0;d=a.parentNode;var h=b.parentNode,g=[a],c=[b];if(a===b)return Q=!0,0;if(!d||!h)return a===f?-1:b===f?1:d?-1:h?1:H?R.call(H,a)-R.call(H,b):0;if(d===h)return e(a,b);for(d=a;d=d.parentNode;)g.unshift(d);for(d=b;d=d.parentNode;)c.unshift(d);for(;g[p]===c[p];)p++;return p?e(g[p],c[p]):g[p]===pa?-1:c[p]===pa?1:0},f):S};h.matches=function(a,f){return h(a,null,null,f)};h.matchesSelector=function(a,f){if((a.ownerDocument||a)!==S&&Ba(a),f=f.replace(ra,
"='$1']"),z.matchesSelector&&ka&&!(K&&K.test(f)||W&&W.test(f)))try{var b=Ka.call(a,f);if(b||z.disconnectedMatch||a.document&&11!==a.document.nodeType)return b}catch(d){}return 0<h(f,S,null,[a]).length};h.contains=function(a,f){return(a.ownerDocument||a)!==S&&Ba(a),L(a,f)};h.attr=function(a,f){(a.ownerDocument||a)!==S&&Ba(a);var d=I.attrHandle[f.toLowerCase()],d=d&&ha.call(I.attrHandle,f.toLowerCase())?d(a,f,!ka):b;return d===b?z.attributes||!ka?a.getAttribute(f):(d=a.getAttributeNode(f))&&d.specified?
d.value:null:d};h.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};h.uniqueSort=function(a){var f,b=[],d=0,p=0;if(Q=!z.detectDuplicates,H=!z.sortStable&&a.slice(0),a.sort(Y),Q){for(;f=a[p++];)f===a[p]&&(d=b.push(p));for(;d--;)a.splice(b[d],1)}return a};D=h.getText=function(a){var f,b="",d=0;if(f=a.nodeType)if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=D(a)}else{if(3===f||4===f)return a.nodeValue}else for(;f=
a[d];d++)b+=D(f);return b};I=h.selectors={cacheLength:50,createPseudo:n,match:ca,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||h.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*
("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&h.error(a[0]),a},PSEUDO:function(a){var f,d=!a[5]&&a[2];return ca.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&sa.test(d)&&(f=t(d,!0))&&(f=d.indexOf(")",d.length-f)-d.length)&&(a[0]=a[0].slice(0,f),a[2]=d.slice(0,f)),a.slice(0,3))}},filter:{TAG:function(a){var f=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===f}},CLASS:function(a){var f=M[a+" "];return f||
(f=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&M(a,function(a){return f.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==U&&a.getAttribute("class")||"")})},ATTR:function(a,f,b){return function(d){d=h.attr(d,a);return null==d?"!="===f:f?(d+="","="===f?d===b:"!="===f?d!==b:"^="===f?b&&0===d.indexOf(b):"*="===f?b&&-1<d.indexOf(b):"$="===f?b&&d.slice(-b.length)===b:"~="===f?-1<(" "+d+" ").indexOf(b):"|="===f?d===b||d.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(a,
f,b,d,p){var h="nth"!==a.slice(0,3),g="last"!==a.slice(-4),c="of-type"===f;return 1===d&&0===p?function(a){return!!a.parentNode}:function(f,b,n){var q,l,e,v,k;b=h!==g?"nextSibling":"previousSibling";var u=f.parentNode,m=c&&f.nodeName.toLowerCase();n=!n&&!c;if(u){if(h){for(;b;){for(l=f;l=l[b];)if(c?l.nodeName.toLowerCase()===m:1===l.nodeType)return!1;k=b="only"===a&&!k&&"nextSibling"}return!0}if(k=[g?u.firstChild:u.lastChild],g&&n)for(n=u[O]||(u[O]={}),q=n[a]||[],v=q[0]===la&&q[1],e=q[0]===la&&q[2],
l=v&&u.childNodes[v];l=++v&&l&&l[b]||(e=v=0)||k.pop();){if(1===l.nodeType&&++e&&l===f){n[a]=[la,v,e];break}}else if(n&&(q=(f[O]||(f[O]={}))[a])&&q[0]===la)e=q[1];else for(;(l=++v&&l&&l[b]||(e=v=0)||k.pop())&&((c?l.nodeName.toLowerCase()!==m:1!==l.nodeType)||!++e||(n&&((l[O]||(l[O]={}))[a]=[la,e]),l!==f)););return e-=p,e===d||0===e%d&&0<=e/d}}},PSEUDO:function(a,f){var b,d=I.pseudos[a]||I.setFilters[a.toLowerCase()]||h.error("unsupported pseudo: "+a);return d[O]?d(f):1<d.length?(b=[a,a,"",f],I.setFilters.hasOwnProperty(a.toLowerCase())?
n(function(a,b){for(var p,h=d(a,f),g=h.length;g--;)p=R.call(a,h[g]),a[p]=!(b[p]=h[g])}):function(a){return d(a,0,b)}):d}},pseudos:{not:n(function(a){var f=[],b=[],d=J(a.replace(Z,"$1"));return d[O]?n(function(a,f,b,p){var h;b=d(a,null,p,[]);for(p=a.length;p--;)(h=b[p])&&(a[p]=!(f[p]=h))}):function(a,p,h){return f[0]=a,d(f,null,h,b),!b.pop()}}),has:n(function(a){return function(f){return 0<h(a,f).length}}),contains:n(function(a){return function(f){return-1<(f.textContent||f.innerText||D(f)).indexOf(a)}}),
lang:n(function(a){return ta.test(a||"")||h.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(f){var b;do if(b=ka?f.lang:f.getAttribute("xml:lang")||f.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((f=f.parentNode)&&1===f.nodeType);return!1}}),target:function(b){var d=a.location&&a.location.hash;return d&&d.slice(1)===b.id},root:function(a){return a===ma},focus:function(a){return a===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var f=a.nodeName.toLowerCase();return"input"===f&&!!a.checked||"option"===f&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!I.pseudos.empty(a)},header:function(a){return za.test(a.nodeName)},
input:function(a){return ya.test(a.nodeName)},button:function(a){var f=a.nodeName.toLowerCase();return"input"===f&&"button"===a.type||"button"===f},text:function(a){var f;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(f=a.getAttribute("type"))||f.toLowerCase()===a.type)},first:r(function(){return[0]}),last:r(function(a,f){return[f-1]}),eq:r(function(a,f,b){return[0>b?b+f:b]}),even:r(function(a,f){for(var b=0;f>b;b+=2)a.push(b);return a}),odd:r(function(a,f){for(var b=1;f>b;b+=
2)a.push(b);return a}),lt:r(function(a,f,b){for(f=0>b?b+f:b;0<=--f;)a.push(f);return a}),gt:r(function(a,f,b){for(b=0>b?b+f:b;f>++b;)a.push(b);return a})}};I.pseudos.nth=I.pseudos.eq;for(F in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[F]=k(F);for(F in{submit:!0,reset:!0})I.pseudos[F]=m(F);u.prototype=I.filters=I.pseudos;I.setFilters=new u;J=h.compile=function(a,f){var b,d=[],p=[],h=X[a+" "];if(!h){f||(f=t(a));for(b=f.length;b--;)h=A(f[b]),h[O]?d.push(h):p.push(h);h=X(a,B(p,d))}return h};
z.sortStable=O.split("").sort(Y).join("")===O;z.detectDuplicates=Q;Ba();z.sortDetached=c(function(a){return 1&a.compareDocumentPosition(S.createElement("div"))});c(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||l("type|href|height|width",function(a,f,d){return d?b:a.getAttribute(f,"type"===f.toLowerCase()?1:2)});z.attributes&&c(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||l("value",
function(a,f,d){return d||"input"!==a.nodeName.toLowerCase()?b:a.defaultValue});c(function(a){return null==a.getAttribute("disabled")})||l("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,f,d){var h;return d?b:(h=a.getAttributeNode(f))&&h.specified?h.value:!0===a[f]?f.toLowerCase():null});d.find=h;d.expr=h.selectors;d.expr[":"]=d.expr.pseudos;d.unique=h.uniqueSort;d.text=h.getText;d.isXMLDoc=h.isXML;d.contains=
h.contains})(a);var bb={};d.Callbacks=function(a){a="string"==typeof a?bb[a]||e(a):d.extend({},a);var p,h,g,c,q,l,v=[],k=!a.once&&[],m=function(b){h=a.memory&&b;g=!0;q=l||0;l=0;c=v.length;for(p=!0;v&&c>q;q++)if(!1===v[q].apply(b[0],b[1])&&a.stopOnFalse){h=!1;break}p=!1;v&&(k?k.length&&m(k.shift()):h?v=[]:r.disable())},r={add:function(){if(v){var b=v.length;(function ec(b){d.each(b,function(b,p){var h=d.type(p);"function"===h?a.unique&&r.has(p)||v.push(p):p&&p.length&&"string"!==h&&ec(p)})})(arguments);
p?c=v.length:h&&(l=b,m(h))}return this},remove:function(){return v&&d.each(arguments,function(a,f){for(var b;-1<(b=d.inArray(f,v,b));)v.splice(b,1),p&&(c>=b&&c--,q>=b&&q--)}),this},has:function(a){return a?-1<d.inArray(a,v):!(!v||!v.length)},empty:function(){return v=[],c=0,this},disable:function(){return v=k=h=b,this},disabled:function(){return!v},lock:function(){return k=b,h||r.disable(),this},locked:function(){return!k},fireWith:function(a,f){return!v||g&&!k||(f=f||[],f=[a,f.slice?f.slice():f],
p?k.push(f):m(f)),this},fire:function(){return r.fireWith(this,arguments),this},fired:function(){return!!g}};return r};d.extend({Deferred:function(a){var b=[["resolve","done",d.Callbacks("once memory"),"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],h="pending",g={state:function(){return h},always:function(){return c.done(arguments).fail(arguments),this},then:function(){var a=arguments;return d.Deferred(function(f){d.each(b,function(b,
p){var h=p[0],e=d.isFunction(a[b])&&a[b];c[p[1]](function(){var a=e&&e.apply(this,arguments);a&&d.isFunction(a.promise)?a.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[h+"With"](this===g?f.promise():this,e?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?d.extend(a,g):g}},c={};return g.pipe=g.then,d.each(b,function(a,f){var d=f[2],e=f[3];g[f[1]]=d.add;e&&d.add(function(){h=e},b[1^a][2].disable,b[2][2].lock);c[f[0]]=function(){return c[f[0]+"With"](this===c?
g:this,arguments),this};c[f[0]+"With"]=d.fireWith}),g.promise(c),a&&a.call(c,c),c},when:function(a){var b=0,h=oa.call(arguments),g=h.length,c=1!==g||a&&d.isFunction(a.promise)?g:0,q=1===c?a:d.Deferred(),l=function(a,f,b){return function(d){f[a]=this;b[a]=1<arguments.length?oa.call(arguments):d;b===e?q.notifyWith(f,b):--c||q.resolveWith(f,b)}},e,k,m;if(1<g)for(e=Array(g),k=Array(g),m=Array(g);g>b;b++)h[b]&&d.isFunction(h[b].promise)?h[b].promise().done(l(b,m,h)).fail(q.reject).progress(l(b,k,e)):--c;
return c||q.resolveWith(m,h),q.promise()}});d.support=function(f){var b,h,g,c,q,l,e=x.createElement("div");if(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=e.getElementsByTagName("*")||[],h=e.getElementsByTagName("a")[0],!h||!h.style||!b.length)return f;g=x.createElement("select");c=g.appendChild(x.createElement("option"));b=e.getElementsByTagName("input")[0];h.style.cssText="top:1px;float:left;opacity:.5";f.getSetAttribute="t"!==
e.className;f.leadingWhitespace=3===e.firstChild.nodeType;f.tbody=!e.getElementsByTagName("tbody").length;f.htmlSerialize=!!e.getElementsByTagName("link").length;f.style=/top/.test(h.getAttribute("style"));f.hrefNormalized="/a"===h.getAttribute("href");f.opacity=/^0.5/.test(h.style.opacity);f.cssFloat=!!h.style.cssFloat;f.checkOn=!!b.value;f.optSelected=c.selected;f.enctype=!!x.createElement("form").enctype;f.html5Clone="<:nav></:nav>"!==x.createElement("nav").cloneNode(!0).outerHTML;f.inlineBlockNeedsLayout=
!1;f.shrinkWrapBlocks=!1;f.pixelPosition=!1;f.deleteExpando=!0;f.noCloneEvent=!0;f.reliableMarginRight=!0;f.boxSizingReliable=!0;b.checked=!0;f.noCloneChecked=b.cloneNode(!0).checked;g.disabled=!0;f.optDisabled=!c.disabled;try{delete e.test}catch(k){f.deleteExpando=!1}b=x.createElement("input");b.setAttribute("value","");f.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");f.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");h=x.createDocumentFragment();
h.appendChild(b);f.appendChecked=b.checked;f.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked;e.attachEvent&&(e.attachEvent("onclick",function(){f.noCloneEvent=!1}),e.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})e.setAttribute(h="on"+l,"t"),f[l+"Bubbles"]=h in a||!1===e.attributes[h].expando;e.style.backgroundClip="content-box";e.cloneNode(!0).style.backgroundClip="";f.clearCloneStyle="content-box"===e.style.backgroundClip;for(l in d(f))break;return f.ownLast="0"!==l,
d(function(){var b,p,h,g=x.getElementsByTagName("body")[0];g&&(b=x.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(b).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",h=e.getElementsByTagName("td"),h[0].style.cssText="padding:0;margin:0;border:0;display:none",q=0===h[0].offsetHeight,h[0].style.display="",h[1].style.display="none",f.reliableHiddenOffsets=q&&0===h[0].offsetHeight,e.innerHTML="",
e.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",d.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){f.boxSizing=4===e.offsetWidth}),a.getComputedStyle&&(f.pixelPosition="1%"!==(a.getComputedStyle(e,null)||{}).top,f.boxSizingReliable="4px"===(a.getComputedStyle(e,null)||{width:"4px"}).width,p=e.appendChild(x.createElement("div")),p.style.cssText=e.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
p.style.marginRight=p.style.width="0",e.style.width="1px",f.reliableMarginRight=!parseFloat((a.getComputedStyle(p,null)||{}).marginRight)),typeof e.style.zoom!==Q&&(e.innerHTML="",e.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",f.inlineBlockNeedsLayout=3===e.offsetWidth,e.style.display="block",e.innerHTML="<div></div>",e.firstChild.style.width="5px",f.shrinkWrapBlocks=
3!==e.offsetWidth,f.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(b),b=e=h=p=null)}),b=g=h=c=h=b=null,f}({});var Mb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Lb=/([A-Z])/g;d.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?d.cache[a[d.expando]]:a[d.expando],!!a&&!t(a)},data:function(a,b,d){return k(a,b,d)},removeData:function(a,b){return m(a,b)},_data:function(a,b,d){return k(a,b,d,!0)},_removeData:function(a,b){return m(a,
b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&d.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});d.fn.extend({data:function(a,p){var h,g,c=null,e=0,l=this[0];if(a===b){if(this.length&&(c=d.data(l),1===l.nodeType&&!d._data(l,"parsedAttrs"))){for(h=l.attributes;h.length>e;e++)g=h[e].name,0===g.indexOf("data-")&&(g=d.camelCase(g.slice(5)),s(l,g,c[g]));d._data(l,"parsedAttrs",!0)}return c}return"object"==typeof a?
this.each(function(){d.data(this,a)}):1<arguments.length?this.each(function(){d.data(this,a,p)}):l?s(l,a,d.data(l,a)):null},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({queue:function(a,p,h){var g;return a?(p=(p||"fx")+"queue",g=d._data(a,p),h&&(!g||d.isArray(h)?g=d._data(a,p,d.makeArray(h)):g.push(h)),g||[]):b},dequeue:function(a,b){b=b||"fx";var h=d.queue(a,b),g=h.length,c=h.shift(),e=d._queueHooks(a,b),l=function(){d.dequeue(a,b)};"inprogress"===c&&(c=
h.shift(),g--);c&&("fx"===b&&h.unshift("inprogress"),delete e.stop,c.call(a,l,e));!g&&e&&e.empty.fire()},_queueHooks:function(a,b){var h=b+"queueHooks";return d._data(a,h)||d._data(a,h,{empty:d.Callbacks("once memory").add(function(){d._removeData(a,b+"queue");d._removeData(a,h)})})}});d.fn.extend({queue:function(a,p){var h=2;return"string"!=typeof a&&(p=a,a="fx",h--),h>arguments.length?d.queue(this[0],a):p===b?this:this.each(function(){var b=d.queue(this,a,p);d._queueHooks(this,a);"fx"===a&&"inprogress"!==
b[0]&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,b){return a=d.fx?d.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,d){var p=setTimeout(b,a);d.stop=function(){clearTimeout(p)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,p){var h,g=1,c=d.Deferred(),e=this,l=this.length,v=function(){--g||c.resolveWith(e,[e])};"string"!=typeof a&&(p=a,a=b);for(a=a||"fx";l--;)(h=d._data(e[l],a+"queueHooks"))&&h.empty&&
(g++,h.empty.add(v));return v(),c.promise(p)}});var xa,sb,Sa=/[\t\r\n\f]/g,gc=/\r/g,hc=/^(?:input|select|textarea|button|object)$/i,ic=/^(?:a|area)$/i,Ta=/^(?:checked|selected)$/i,qa=d.support.getSetAttribute,La=d.support.input;d.fn.extend({attr:function(a,b){return d.access(this,d.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,b){return d.access(this,d.prop,a,b,1<arguments.length)},removeProp:function(a){return a=d.propFix[a]||
a,this.each(function(){try{this[a]=b,delete this[a]}catch(d){}})},addClass:function(a){var b,h,g,c,e,l=0,v=this.length;b="string"==typeof a&&a;if(d.isFunction(a))return this.each(function(b){d(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(X)||[];v>l;l++)if(h=this[l],g=1===h.nodeType&&(h.className?(" "+h.className+" ").replace(Sa," "):" ")){for(e=0;c=b[e++];)0>g.indexOf(" "+c+" ")&&(g+=c+" ");h.className=d.trim(g)}return this},removeClass:function(a){var b,h,g,c,e,l=0,v=
this.length;b=0===arguments.length||"string"==typeof a&&a;if(d.isFunction(a))return this.each(function(b){d(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(X)||[];v>l;l++)if(h=this[l],g=1===h.nodeType&&(h.className?(" "+h.className+" ").replace(Sa," "):"")){for(e=0;c=b[e++];)for(;0<=g.indexOf(" "+c+" ");)g=g.replace(" "+c+" "," ");h.className=a?d.trim(g):""}return this},toggleClass:function(a,b){var h=typeof a;return"boolean"==typeof b&&"string"===h?b?this.addClass(a):
this.removeClass(a):d.isFunction(a)?this.each(function(h){d(this).toggleClass(a.call(this,h,this.className,b),b)}):this.each(function(){if("string"===h)for(var b,p=0,c=d(this),e=a.match(X)||[];b=e[p++];)c.hasClass(b)?c.removeClass(b):c.addClass(b);else(h===Q||"boolean"===h)&&(this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===a?"":d._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;d>b;b++)if(1===this[b].nodeType&&
0<=(" "+this[b].className+" ").replace(Sa," ").indexOf(a))return!0;return!1},val:function(a){var p,h,g,c=this[0];if(arguments.length)return g=d.isFunction(a),this.each(function(p){var c;1===this.nodeType&&(c=g?a.call(this,p,d(this).val()):a,null==c?c="":"number"==typeof c?c+="":d.isArray(c)&&(c=d.map(c,function(a){return null==a?"":a+""})),h=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],h&&"set"in h&&h.set(this,c,"value")!==b||(this.value=c))});if(c)return h=d.valHooks[c.type]||d.valHooks[c.nodeName.toLowerCase()],
h&&"get"in h&&(p=h.get(c,"value"))!==b?p:(p=c.value,"string"==typeof p?p.replace(gc,""):null==p?"":p)}});d.extend({valHooks:{option:{get:function(a){var b=d.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,h=a.options,g=a.selectedIndex,c="select-one"===a.type||0>g,e=c?null:[],l=c?g+1:h.length,v=0>g?l:c?g:0;l>v;v++)if(b=h[v],!(!b.selected&&v!==g||(d.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&d.nodeName(b.parentNode,"optgroup"))){if(a=
d(b).val(),c)return a;e.push(a)}return e},set:function(a,b){for(var h,g,c=a.options,e=d.makeArray(b),l=c.length;l--;)g=c[l],(g.selected=0<=d.inArray(d(g).val(),e))&&(h=!0);return h||(a.selectedIndex=-1),e}}},attr:function(a,p,h){var g,c,e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e)return typeof a.getAttribute===Q?d.prop(a,p,h):(1===e&&d.isXMLDoc(a)||(p=p.toLowerCase(),g=d.attrHooks[p]||(d.expr.match.bool.test(p)?sb:xa)),h===b?g&&"get"in g&&null!==(c=g.get(a,p))?c:(c=d.find.attr(a,p),null==c?b:c):null!==
h?g&&"set"in g&&(c=g.set(a,h,p))!==b?c:(a.setAttribute(p,h+""),h):(d.removeAttr(a,p),b))},removeAttr:function(a,b){var h,g,c=0,e=b&&b.match(X);if(e&&1===a.nodeType)for(;h=e[c++];)g=d.propFix[h]||h,d.expr.match.bool.test(h)?La&&qa||!Ta.test(h)?a[g]=!1:a[d.camelCase("default-"+h)]=a[g]=!1:d.attr(a,h,""),a.removeAttribute(qa?h:g)},attrHooks:{type:{set:function(a,b){if(!d.support.radioValue&&"radio"===b&&d.nodeName(a,"input")){var h=a.value;return a.setAttribute("type",b),h&&(a.value=h),b}}}},propFix:{"for":"htmlFor",
"class":"className"},prop:function(a,p,h){var g,c,e,l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l)return e=1!==l||!d.isXMLDoc(a),e&&(p=d.propFix[p]||p,c=d.propHooks[p]),h!==b?c&&"set"in c&&(g=c.set(a,h,p))!==b?g:a[p]=h:c&&"get"in c&&null!==(g=c.get(a,p))?g:a[p]},propHooks:{tabIndex:{get:function(a){var b=d.find.attr(a,"tabindex");return b?parseInt(b,10):hc.test(a.nodeName)||ic.test(a.nodeName)&&a.href?0:-1}}}});sb={set:function(a,b,h){return!1===b?d.removeAttr(a,h):La&&qa||!Ta.test(h)?a.setAttribute(!qa&&
d.propFix[h]||h,h):a[d.camelCase("default-"+h)]=a[h]=!0,h}};d.each(d.expr.match.bool.source.match(/\w+/g),function(a,p){var h=d.expr.attrHandle[p]||d.find.attr;d.expr.attrHandle[p]=La&&qa||!Ta.test(p)?function(a,f,p){var c=d.expr.attrHandle[f];a=p?b:(d.expr.attrHandle[f]=b)!=h(a,f,p)?f.toLowerCase():null;return d.expr.attrHandle[f]=c,a}:function(a,f,h){return h?b:a[d.camelCase("default-"+f)]?f.toLowerCase():null}});La&&qa||(d.attrHooks.value={set:function(a,p,h){return d.nodeName(a,"input")?(a.defaultValue=
p,b):xa&&xa.set(a,p,h)}});qa||(xa={set:function(a,d,h){var c=a.getAttributeNode(h);return c||a.setAttributeNode(c=a.ownerDocument.createAttribute(h)),c.value=d+="","value"===h||d===a.getAttribute(h)?d:b}},d.expr.attrHandle.id=d.expr.attrHandle.name=d.expr.attrHandle.coords=function(a,d,h){var c;return h?b:(c=a.getAttributeNode(d))&&""!==c.value?c.value:null},d.valHooks.button={get:function(a,d){var h=a.getAttributeNode(d);return h&&h.specified?h.value:b},set:xa.set},d.attrHooks.contenteditable={set:function(a,
b,d){xa.set(a,""===b?!1:b,d)}},d.each(["width","height"],function(a,p){d.attrHooks[p]={set:function(a,f){return""===f?(a.setAttribute(p,"auto"),f):b}}}));d.support.hrefNormalized||d.each(["href","src"],function(a,b){d.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});d.support.style||(d.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}});d.support.optSelected||(d.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,
a.parentNode&&a.parentNode.selectedIndex),null}});d.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){d.propFix[this.toLowerCase()]=this});d.support.enctype||(d.propFix.enctype="encoding");d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(a,p){return d.isArray(p)?a.checked=0<=d.inArray(d(a).val(),p):b}};d.support.checkOn||(d.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":
a.value})});var Ua=/^(?:input|select|textarea)$/i,jc=/^key/,kc=/^(?:mouse|contextmenu)|click/,tb=/^(?:focusinfocus|focusoutblur)$/,ub=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(a,p,h,c,n){var e,l,v,k,m,r,u,t,s,w;if(v=d._data(a)){h.handler&&(k=h,h=k.handler,n=k.selector);h.guid||(h.guid=d.guid++);(l=v.events)||(l=v.events={});(r=v.handle)||(r=v.handle=function(a){return typeof d===Q||a&&d.event.triggered===a.type?b:d.event.dispatch.apply(r.elem,arguments)},r.elem=a);p=(p||"").match(X)||
[""];for(v=p.length;v--;)e=ub.exec(p[v])||[],s=w=e[1],e=(e[2]||"").split(".").sort(),s&&(m=d.event.special[s]||{},s=(n?m.delegateType:m.bindType)||s,m=d.event.special[s]||{},u=d.extend({type:s,origType:w,data:c,handler:h,guid:h.guid,selector:n,needsContext:n&&d.expr.match.needsContext.test(n),namespace:e.join(".")},k),(t=l[s])||(t=l[s]=[],t.delegateCount=0,m.setup&&!1!==m.setup.call(a,c,e,r)||(a.addEventListener?a.addEventListener(s,r,!1):a.attachEvent&&a.attachEvent("on"+s,r))),m.add&&(m.add.call(a,
u),u.handler.guid||(u.handler.guid=h.guid)),n?t.splice(t.delegateCount++,0,u):t.push(u),d.event.global[s]=!0);a=null}},remove:function(a,b,h,c,n){var e,l,v,k,m,r,u,t,s,w,y,x=d.hasData(a)&&d._data(a);if(x&&(r=x.events)){b=(b||"").match(X)||[""];for(m=b.length;m--;)if(v=ub.exec(b[m])||[],s=y=v[1],w=(v[2]||"").split(".").sort(),s){u=d.event.special[s]||{};s=(c?u.delegateType:u.bindType)||s;t=r[s]||[];v=v[2]&&RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=e=t.length;e--;)l=t[e],!n&&y!==l.origType||
h&&h.guid!==l.guid||v&&!v.test(l.namespace)||c&&c!==l.selector&&("**"!==c||!l.selector)||(t.splice(e,1),l.selector&&t.delegateCount--,u.remove&&u.remove.call(a,l));k&&!t.length&&(u.teardown&&!1!==u.teardown.call(a,w,x.handle)||d.removeEvent(a,s,x.handle),delete r[s])}else for(s in r)d.event.remove(a,s+b[m],h,c,!0);d.isEmptyObject(r)&&(delete x.handle,d._removeData(a,"events"))}},trigger:function(f,c,h,g){var n,e,l,v,k,m,r=[h||x],u=ia.call(f,"type")?f.type:f;m=ia.call(f,"namespace")?f.namespace.split("."):
[];if(l=n=h=h||x,3!==h.nodeType&&8!==h.nodeType&&!tb.test(u+d.event.triggered)&&(0<=u.indexOf(".")&&(m=u.split("."),u=m.shift(),m.sort()),e=0>u.indexOf(":")&&"on"+u,f=f[d.expando]?f:new d.Event(u,"object"==typeof f&&f),f.isTrigger=g?2:3,f.namespace=m.join("."),f.namespace_re=f.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=b,f.target||(f.target=h),c=null==c?[f]:d.makeArray(c,[f]),k=d.event.special[u]||{},g||!k.trigger||!1!==k.trigger.apply(h,c))){if(!g&&!k.noBubble&&!d.isWindow(h)){v=
k.delegateType||u;for(tb.test(v+u)||(l=l.parentNode);l;l=l.parentNode)r.push(l),n=l;n===(h.ownerDocument||x)&&r.push(n.defaultView||n.parentWindow||a)}for(m=0;(l=r[m++])&&!f.isPropagationStopped();)f.type=1<m?v:k.bindType||u,(n=(d._data(l,"events")||{})[f.type]&&d._data(l,"handle"))&&n.apply(l,c),(n=e&&l[e])&&d.acceptData(l)&&n.apply&&!1===n.apply(l,c)&&f.preventDefault();if(f.type=u,!g&&!f.isDefaultPrevented()&&(!k._default||!1===k._default.apply(r.pop(),c))&&d.acceptData(h)&&e&&h[u]&&!d.isWindow(h)){(n=
h[e])&&(h[e]=null);d.event.triggered=u;try{h[u]()}catch(t){}d.event.triggered=b;n&&(h[e]=n)}return f.result}},dispatch:function(a){a=d.event.fix(a);var c,h,g,e,q,l=[],v=oa.call(arguments);c=(d._data(this,"events")||{})[a.type]||[];var k=d.event.special[a.type]||{};if(v[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){l=d.event.handlers.call(this,a,c);for(c=0;(e=l[c++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,q=0;(g=e.handlers[q++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&
!a.namespace_re.test(g.namespace)||(a.handleObj=g,a.data=g.data,h=((d.event.special[g.origType]||{}).handle||g.handler).apply(e.elem,v),h===b||!1!==(a.result=h)||(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var h,g,e,q,l=[],k=c.delegateCount,m=a.target;if(k&&m.nodeType&&(!a.button||"click"!==a.type))for(;m!=this;m=m.parentNode||this)if(1===m.nodeType&&(!0!==m.disabled||"click"!==a.type)){e=[];for(q=0;k>q;q++)g=c[q],
h=g.selector+" ",e[h]===b&&(e[h]=g.needsContext?0<=d(h,this).index(m):d.find(h,this,null,[m]).length),e[h]&&e.push(g);e.length&&l.push({elem:m,handlers:e})}return c.length>k&&l.push({elem:this,handlers:c.slice(k)}),l},fix:function(a){if(a[d.expando])return a;var b,h,c;b=a.type;var e=a,q=this.fixHooks[b];q||(this.fixHooks[b]=q=kc.test(b)?this.mouseHooks:jc.test(b)?this.keyHooks:{});c=q.props?this.props.concat(q.props):this.props;a=new d.Event(e);for(b=c.length;b--;)h=c[b],a[h]=e[h];return a.target||
(a.target=e.srcElement||x),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,q.filter?q.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,d){var h,c,e,q=d.button,l=d.fromElement;return null==a.pageX&&null!=d.clientX&&(c=a.target.ownerDocument||x,e=c.documentElement,h=c.body,a.pageX=d.clientX+(e&&e.scrollLeft||h&&h.scrollLeft||0)-(e&&e.clientLeft||h&&h.clientLeft||0),a.pageY=d.clientY+(e&&e.scrollTop||h&&h.scrollTop||0)-(e&&e.clientTop||h&&h.clientTop||0)),!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?d.toElement:l),a.which||q===b||(a.which=1&q?1:2&q?3:4&q?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
y()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},click:{trigger:function(){return d.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b},_default:function(a){return d.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,h,c){a=d.extend(new d.Event,h,{type:a,
isSimulated:!0,originalEvent:{}});c?d.event.trigger(a,null,b):d.event.dispatch.call(b,a);a.isDefaultPrevented()&&h.preventDefault()}};d.removeEvent=x.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)}:function(a,b,d){b="on"+b;a.detachEvent&&(typeof a[b]===Q&&(a[b]=null),a.detachEvent(b,d))};d.Event=function(a,c){return this instanceof d.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&
a.getPreventDefault()?r:w):this.type=a,c&&d.extend(this,c),this.timeStamp=a&&a.timeStamp||d.now(),this[d.expando]=!0,b):new d.Event(a,c)};d.Event.prototype={isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=r;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=r;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=
!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r;this.stopPropagation()}};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){d.event.special[a]={delegateType:b,bindType:b,handle:function(a){var f,c=a.relatedTarget,e=a.handleObj;return(!c||c!==this&&!d.contains(this,c))&&(a.type=e.origType,f=e.handler.apply(this,arguments),a.type=b),f}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){return d.nodeName(this,"form")?!1:(d.event.add(this,
"click._submit keypress._submit",function(a){a=a.target;(a=d.nodeName(a,"input")||d.nodeName(a,"button")?a.form:b)&&!d._data(a,"submitBubbles")&&(d.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),d._data(a,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&d.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return d.nodeName(this,"form")?!1:(d.event.remove(this,"._submit"),b)}});d.support.changeBubbles||
(d.event.special.change={setup:function(){return Ua.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(d.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),d.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,a,!0)})),!1):(d.event.add(this,"beforeactivate._change",function(a){a=a.target;Ua.test(a.nodeName)&&!d._data(a,"changeBubbles")&&
(d.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||d.event.simulate("change",this.parentNode,a,!0)}),d._data(a,"changeBubbles",!0))}),b)},handle:function(a){var d=a.target;return this!==d||a.isSimulated||a.isTrigger||"radio"!==d.type&&"checkbox"!==d.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return d.event.remove(this,"._change"),!Ua.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,
b){var c=0,g=function(a){d.event.simulate(b,a.target,d.event.fix(a),!0)};d.event.special[b]={setup:function(){0===c++&&x.addEventListener(a,g,!0)},teardown:function(){0===--c&&x.removeEventListener(a,g,!0)}}});d.fn.extend({on:function(a,c,h,g,e){var q,l;if("object"==typeof a){"string"!=typeof c&&(h=h||c,c=b);for(q in a)this.on(q,c,h,a[q],e);return this}if(null==h&&null==g?(g=c,h=c=b):null==g&&("string"==typeof c?(g=h,h=b):(g=h,h=c,c=b)),!1===g)g=w;else if(!g)return this;return 1===e&&(l=g,g=function(a){return d().off(a),
l.apply(this,arguments)},g.guid=l.guid||(l.guid=d.guid++)),this.each(function(){d.event.add(this,a,g,h,c)})},one:function(a,b,d,c){return this.on(a,b,d,c,1)},off:function(a,c,h){var g,e;if(a&&a.preventDefault&&a.handleObj)return g=a.handleObj,d(a.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof a){for(e in a)this.off(e,c,a[e]);return this}return(!1===c||"function"==typeof c)&&(h=c,c=b),!1===h&&(h=w),this.each(function(){d.event.remove(this,
a,h,c)})},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,c){var h=this[0];return h?d.event.trigger(a,c,h,!0):b}});var Nb=/^.[^:#\[\.,]*$/,lc=/^(?:parents|prev(?:Until|All))/,vb=d.expr.match.needsContext,mc={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var b,c=[],g=this,e=g.length;if("string"!=typeof a)return this.pushStack(d(a).filter(function(){for(b=0;e>b;b++)if(d.contains(g[b],this))return!0}));for(b=0;e>b;b++)d.find(a,
g[b],c);return c=this.pushStack(1<e?d.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=d(a,this),g=c.length;return this.filter(function(){for(b=0;g>b;b++)if(d.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(B(this,a||[],!0))},filter:function(a){return this.pushStack(B(this,a||[],!1))},is:function(a){return!!B(this,"string"==typeof a&&vb.test(a)?d(a):a||[],!1).length},closest:function(a,b){for(var c,g=0,e=this.length,q=[],l=vb.test(a)||"string"!=
typeof a?d(a,b||this.context):0;e>g;g++)for(c=this[g];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(l?-1<l.index(c):1===c.nodeType&&d.find.matchesSelector(c,a))){q.push(c);break}return this.pushStack(1<q.length?d.unique(q):q)},index:function(a){return a?"string"==typeof a?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?d(a,b):d.makeArray(a&&a.nodeType?[a]:a),c=d.merge(this.get(),c);return this.pushStack(d.unique(c))},
addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});d.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return C(a,"nextSibling")},prev:function(a){return C(a,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,c){return d.dir(a,
"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.merge([],a.childNodes)}},function(a,b){d.fn[a]=function(c,g){var e=d.map(this,b,c);return"Until"!==a.slice(-5)&&(g=c),g&&"string"==typeof g&&(e=d.filter(g,e)),1<this.length&&(mc[a]||(e=d.unique(e)),
lc.test(a)&&(e=e.reverse())),this.pushStack(e)}});d.extend({filter:function(a,b,c){var g=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===g.nodeType?d.find.matchesSelector(g,a)?[g]:[]:d.find.matches(a,d.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,h){var g=[];for(a=a[c];a&&9!==a.nodeType&&(h===b||1!==a.nodeType||!d(a).is(h));)1===a.nodeType&&g.push(a),a=a[c];return g},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});var cb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
nc=/ jQuery\d+="(?:null|\d+)"/g,wb=RegExp("<(?:"+cb+")[\\s/>]","i"),Va=/^\s+/,xb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yb=/<([\w:]+)/,zb=/<tbody/i,oc=/<|&#?\w+;/,pc=/<(?:script|style|link)/i,Na=/^(?:checkbox|radio)$/i,qc=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/^$|\/(?:java|ecma)script/i,Ob=/^true\/(.*)/,rc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,T={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],
param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Wa=F(x).appendChild(x.createElement("div"));T.optgroup=T.option;T.tbody=T.tfoot=T.colgroup=T.caption=T.thead;T.th=T.td;d.fn.extend({text:function(a){return d.access(this,function(a){return a===b?d.text(this):this.empty().append((this[0]&&
this[0].ownerDocument||x).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=A(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,
this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,g=a?d.filter(a,this):this,e=0;null!=(c=g[e]);e++)b||1!==c.nodeType||d.cleanData(E(c)),c.parentNode&&(b&&d.contains(c.ownerDocument,c)&&K(E(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&d.cleanData(E(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&
d.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return d.clone(this,a,b)})},html:function(a){return d.access(this,function(a){var f=this[0]||{},c=0,e=this.length;if(a===b)return 1===f.nodeType?f.innerHTML.replace(nc,""):b;if(!("string"!=typeof a||pc.test(a)||!d.support.htmlSerialize&&wb.test(a)||!d.support.leadingWhitespace&&Va.test(a)||T[(yb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(xb,"<$1></$2>");try{for(;e>
c;c++)f=this[c]||{},1===f.nodeType&&(d.cleanData(E(f,!1)),f.innerHTML=a);f=0}catch(q){}}f&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=d.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var g=a[b++],e=a[b++];e&&(g&&g.parentNode!==e&&(g=this.nextSibling),d(this).remove(),e.insertBefore(c,g))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=nb.apply([],a);var g,
e,q,l,k=0,m=this.length,r=this,t=m-1,u=a[0],s=d.isFunction(u);if(s||!(1>=m||"string"!=typeof u||d.support.checkClone)&&qc.test(u))return this.each(function(d){var g=r.eq(d);s&&(a[0]=u.call(this,d,g.html()));g.domManip(a,b,c)});if(m&&(l=d.buildFragment(a,this[0].ownerDocument,!1,!c&&this),g=l.firstChild,1===l.childNodes.length&&(l=g),g)){q=d.map(E(l,"script"),D);for(e=q.length;m>k;k++)g=l,k!==t&&(g=d.clone(g,!0,!0),e&&d.merge(q,E(g,"script"))),b.call(this[k],g,k);if(e)for(l=q[q.length-1].ownerDocument,
d.map(q,G),k=0;e>k;k++)g=q[k],Ab.test(g.type||"")&&!d._data(g,"globalEval")&&d.contains(l,g)&&(g.src?d._evalUrl(g.src):d.globalEval((g.text||g.textContent||g.innerHTML||"").replace(rc,"")));l=g=null}return this}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(a){for(var f=0,c=[],e=d(a),l=e.length-1;l>=f;f++)a=f===l?this:this.clone(!0),d(e[f])[b](a),Qa.apply(c,a.get());return this.pushStack(c)}});d.extend({clone:function(a,
b,c){var g,e,q,l,k,m=d.contains(a.ownerDocument,a);if(d.support.html5Clone||d.isXMLDoc(a)||!wb.test("<"+a.nodeName+">")?q=a.cloneNode(!0):(Wa.innerHTML=a.outerHTML,Wa.removeChild(q=Wa.firstChild)),!(d.support.noCloneEvent&&d.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||d.isXMLDoc(a)))for(g=E(q),k=E(a),l=0;null!=(e=k[l]);++l)if(g[l]){var r=g[l],t=void 0,u=void 0,s=void 0;if(1===r.nodeType){if(t=r.nodeName.toLowerCase(),!d.support.noCloneEvent&&r[d.expando]){s=d._data(r);for(u in s.events)d.removeEvent(r,
u,s.handle);r.removeAttribute(d.expando)}"script"===t&&r.text!==e.text?(D(r).text=e.text,G(r)):"object"===t?(r.parentNode&&(r.outerHTML=e.outerHTML),d.support.html5Clone&&e.innerHTML&&!d.trim(r.innerHTML)&&(r.innerHTML=e.innerHTML)):"input"===t&&Na.test(e.type)?(r.defaultChecked=r.checked=e.checked,r.value!==e.value&&(r.value=e.value)):"option"===t?r.defaultSelected=r.selected=e.defaultSelected:("input"===t||"textarea"===t)&&(r.defaultValue=e.defaultValue)}}if(b)if(c)for(k=k||E(a),g=g||E(q),l=0;null!=
(e=k[l]);l++)J(e,g[l]);else J(a,q);return g=E(q,"script"),0<g.length&&K(g,!m&&E(a,"script")),q},buildFragment:function(a,b,c,g){for(var e,q,l,k,m,r,t,u=a.length,s=F(b),w=[],x=0;u>x;x++)if(q=a[x],q||0===q)if("object"===d.type(q))d.merge(w,q.nodeType?[q]:q);else if(oc.test(q)){k=k||s.appendChild(b.createElement("div"));m=(yb.exec(q)||["",""])[1].toLowerCase();t=T[m]||T._default;k.innerHTML=t[1]+q.replace(xb,"<$1></$2>")+t[2];for(e=t[0];e--;)k=k.lastChild;if(!d.support.leadingWhitespace&&Va.test(q)&&
w.push(b.createTextNode(Va.exec(q)[0])),!d.support.tbody)for(e=(q="table"!==m||zb.test(q)?"<table>"!==t[1]||zb.test(q)?0:k:k.firstChild)&&q.childNodes.length;e--;)d.nodeName(r=q.childNodes[e],"tbody")&&!r.childNodes.length&&q.removeChild(r);d.merge(w,k.childNodes);for(k.textContent="";k.firstChild;)k.removeChild(k.firstChild);k=s.lastChild}else w.push(b.createTextNode(q));k&&s.removeChild(k);d.support.appendChecked||d.grep(E(w,"input"),sa);for(x=0;q=w[x++];)if((!g||-1===d.inArray(q,g))&&(l=d.contains(q.ownerDocument,
q),k=E(s.appendChild(q),"script"),l&&K(k),c))for(e=0;q=k[e++];)Ab.test(q.type||"")&&c.push(q);return s},cleanData:function(a,b){for(var c,g,e,q,l=0,k=d.expando,m=d.cache,r=d.support.deleteExpando,t=d.event.special;null!=(c=a[l]);l++)if((b||d.acceptData(c))&&(e=c[k],q=e&&m[e])){if(q.events)for(g in q.events)t[g]?d.event.remove(c,g):d.removeEvent(c,g,q.handle);m[e]&&(delete m[e],r?delete c[k]:typeof c.removeAttribute!==Q?c.removeAttribute(k):c[k]=null,ra.push(e))}},_evalUrl:function(a){return d.ajax({url:a,
type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});d.fn.extend({wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(b){d(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=d.isFunction(a);return this.each(function(c){d(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()}});var za,ga,ba,Xa=/alpha\([^)]*\)/i,sc=/opacity\s*=\s*([^)]*)/,tc=/^(top|right|bottom|left)$/,uc=/^(none|table(?!-c[ea]).+)/,Bb=/^margin/,Pb=RegExp("^("+Ja+")(.*)$","i"),Ea=RegExp("^("+
Ja+")(?!px)[a-z%]+$","i"),vc=RegExp("^([+-])=("+Ja+")","i"),eb={BODY:"block"},wc={position:"absolute",visibility:"hidden",display:"block"},Cb={letterSpacing:0,fontWeight:400},fa=["Top","Right","Bottom","Left"],db=["Webkit","O","Moz","ms"];d.fn.extend({css:function(a,c){return d.access(this,function(a,f,c){var e,p={},k=0;if(d.isArray(f)){e=ga(a);for(c=f.length;c>k;k++)p[f[k]]=d.css(a,f[k],!1,e);return p}return c!==b?d.style(a,f,c):d.css(a,f)},a,c,1<arguments.length)},show:function(){return ea(this,
!0)},hide:function(){return ea(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){H(this)?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=ba(a,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,h,g){if(a&&3!==a.nodeType&&
8!==a.nodeType&&a.style){var e,q,l,k=d.camelCase(c),m=a.style;if(c=d.cssProps[k]||(d.cssProps[k]=ta(m,k)),l=d.cssHooks[c]||d.cssHooks[k],h===b)return l&&"get"in l&&(e=l.get(a,!1,g))!==b?e:m[c];if(q=typeof h,"string"===q&&(e=vc.exec(h))&&(h=(e[1]+1)*e[2]+parseFloat(d.css(a,c)),q="number"),!(null==h||"number"===q&&isNaN(h)||("number"!==q||d.cssNumber[k]||(h+="px"),d.support.clearCloneStyle||""!==h||0!==c.indexOf("background")||(m[c]="inherit"),l&&"set"in l&&(h=l.set(a,h,g))===b)))try{m[c]=h}catch(r){}}},
css:function(a,c,h,g){var e,q,l,k=d.camelCase(c);return c=d.cssProps[k]||(d.cssProps[k]=ta(a.style,k)),l=d.cssHooks[c]||d.cssHooks[k],l&&"get"in l&&(q=l.get(a,!0,h)),q===b&&(q=ba(a,c,g)),"normal"===q&&c in Cb&&(q=Cb[c]),""===h||h?(e=parseFloat(q),!0===h||d.isNumeric(e)?e||0:q):q}});a.getComputedStyle?(ga=function(b){return a.getComputedStyle(b,null)},ba=function(a,c,h){var g,e,q,l=(h=h||ga(a))?h.getPropertyValue(c)||h[c]:b,k=a.style;return h&&(""!==l||d.contains(a.ownerDocument,a)||(l=d.style(a,c)),
Ea.test(l)&&Bb.test(c)&&(g=k.width,e=k.minWidth,q=k.maxWidth,k.minWidth=k.maxWidth=k.width=l,l=h.width,k.width=g,k.minWidth=e,k.maxWidth=q)),l}):x.documentElement.currentStyle&&(ga=function(a){return a.currentStyle},ba=function(a,d,c){var g,e,q;c=(c=c||ga(a))?c[d]:b;var l=a.style;return null==c&&l&&l[d]&&(c=l[d]),Ea.test(c)&&!tc.test(d)&&(g=l.left,e=a.runtimeStyle,q=e&&e.left,q&&(e.left=a.currentStyle.left),l.left="fontSize"===d?"1em":c,c=l.pixelLeft+"px",l.left=g,q&&(e.left=q)),""===c?"auto":c});
d.each(["height","width"],function(a,c){d.cssHooks[c]={get:function(a,f,e){return f?0===a.offsetWidth&&uc.test(d.css(a,"display"))?d.swap(a,wc,function(){return aa(a,c,e)}):aa(a,c,e):b},set:function(a,b,f){var e=f&&ga(a);return R(a,b,f?U(a,c,f,d.support.boxSizing&&"border-box"===d.css(a,"boxSizing",!1,e),e):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(a,b){return sc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,
b){var c=a.style,g=a.currentStyle,e=d.isNumeric(b)?"alpha(opacity="+100*b+")":"",k=g&&g.filter||c.filter||"";c.zoom=1;(1<=b||""===b)&&""===d.trim(k.replace(Xa,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||g&&!g.filter)||(c.filter=Xa.test(k)?k.replace(Xa,e):k+" "+e)}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(a,c){return c?d.swap(a,{display:"inline-block"},ba,[a,"marginRight"]):b}});!d.support.pixelPosition&&d.fn.position&&d.each(["top","left"],
function(a,c){d.cssHooks[c]={get:function(a,f){return f?(f=ba(a,c),Ea.test(f)?d(a).position()[c]+"px":f):b}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!d.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||d.css(a,"display"))},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});d.each({margin:"",padding:"",border:"Width"},function(a,b){d.cssHooks[a+b]={expand:function(d){var c=0,e={};for(d="string"==typeof d?
d.split(" "):[d];4>c;c++)e[a+fa[c]+b]=d[c]||d[c-2]||d[0];return e}};Bb.test(a)||(d.cssHooks[a+b].set=R)});var xc=/%20/g,Qb=/\[\]$/,Db=/\r?\n/g,yc=/^(?:submit|button|image|reset|file)$/i,zc=/^(?:input|select|textarea|keygen)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=d.prop(this,"elements");return a?d.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!d(this).is(":disabled")&&zc.test(this.nodeName)&&
!yc.test(a)&&(this.checked||!Na.test(a))}).map(function(a,b){var c=d(this).val();return null==c?null:d.isArray(c)?d.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}});d.param=function(a,c){var e,g=[],n=function(a,b){b=d.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=d.ajaxSettings&&d.ajaxSettings.traditional),d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){n(this.name,
this.value)});else for(e in a)N(e,a[e],c,n);return g.join("&").replace(xc,"+")};d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){d.fn[b]=function(a,d){return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)}});d.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,d){return this.on(a,
null,b,d)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,d,c){return this.on(b,a,d,c)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",d)}});var da,na,Ya=d.now(),Za=/\?/,Ac=/#.*$/,Eb=/([?&])_=[^&]*/,Bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cc=/^(?:GET|HEAD)$/,Dc=/^\/\//,Fb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Gb=d.fn.load,Hb={},Oa={},Ib="*/".concat("*");try{na=Sb.href}catch(Hc){na=x.createElement("a"),na.href="",na=na.href}da=Fb.exec(na.toLowerCase())||
[];d.fn.load=function(a,c,e){if("string"!=typeof a&&Gb)return Gb.apply(this,arguments);var g,n,k,l=this,m=a.indexOf(" ");return 0<=m&&(g=a.slice(m,a.length),a=a.slice(0,m)),d.isFunction(c)?(e=c,c=b):c&&"object"==typeof c&&(k="POST"),0<l.length&&d.ajax({url:a,type:k,dataType:"html",data:c}).done(function(a){n=arguments;l.html(g?d("<div>").append(d.parseHTML(a)).find(g):a)}).complete(e&&function(a,b){l.each(e,n||[a.responseText,b,a])}),this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){d.fn[b]=function(a){return this.on(b,a)}});d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:na,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(da[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ib,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Pa(Pa(a,d.ajaxSettings),b):Pa(d.ajaxSettings,a)},ajaxPrefilter:Z(Hb),ajaxTransport:Z(Oa),ajax:function(a,c){function e(a,c,f,g){var h,p,n,s,A=c;if(2!==B){B=2;m&&clearTimeout(m);t=b;l=g||"";z.readyState=0<a?4:0;g=200<=a&&300>a||304===a;if(f){n=u;for(var C=z,D,H,V,L,O=n.contents,J=n.dataTypes;"*"===J[0];)J.shift(),
H===b&&(H=n.mimeType||C.getResponseHeader("Content-Type"));if(H)for(L in O)if(O[L]&&O[L].test(H)){J.unshift(L);break}if(J[0]in f)V=J[0];else{for(L in f){if(!J[0]||n.converters[L+" "+J[0]]){V=L;break}D||(D=L)}V=V||D}n=V?(V!==J[0]&&J.unshift(V),f[V]):b}var K;a:{f=u;D=n;H=z;V=g;var G,N,M;n={};C=f.dataTypes.slice();if(C[1])for(G in f.converters)n[G.toLowerCase()]=f.converters[G];for(L=C.shift();L;)if(f.responseFields[L]&&(H[f.responseFields[L]]=D),!M&&V&&f.dataFilter&&(D=f.dataFilter(D,f.dataType)),M=
L,L=C.shift())if("*"===L)L=M;else if("*"!==M&&M!==L){if(G=n[M+" "+L]||n["* "+L],!G)for(K in n)if(N=K.split(" "),N[1]===L&&(G=n[M+" "+N[0]]||n["* "+N[0]])){!0===G?G=n[K]:!0!==n[K]&&(L=N[0],C.unshift(N[1]));break}if(!0!==G)if(G&&f["throws"])D=G(D);else try{D=G(D)}catch(Q){K={state:"parsererror",error:G?Q:"No conversion from "+M+" to "+L};break a}}K={state:"success",data:D}}n=K;g?(u.ifModified&&(s=z.getResponseHeader("Last-Modified"),s&&(d.lastModified[k]=s),s=z.getResponseHeader("etag"),s&&(d.etag[k]=
s)),204===a||"HEAD"===u.type?A="nocontent":304===a?A="notmodified":(A=n.state,h=n.data,p=n.error,g=!p)):(p=A,(a||!A)&&(A="error",0>a&&(a=0)));z.status=a;z.statusText=(c||A)+"";g?y.resolveWith(w,[h,A,z]):y.rejectWith(w,[z,A,p]);z.statusCode(E);E=b;r&&x.trigger(g?"ajaxSuccess":"ajaxError",[z,u,g?h:p]);F.fireWith(w,[z,A]);r&&(x.trigger("ajaxComplete",[z,u]),--d.active||d.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b);c=c||{};var g,n,k,l,m,r,t,s,u=d.ajaxSetup({},c),w=u.context||u,x=u.context&&
(w.nodeType||w.jquery)?d(w):d.event,y=d.Deferred(),F=d.Callbacks("once memory"),E=u.statusCode||{},A={},C={},B=0,D="canceled",z={readyState:0,getResponseHeader:function(a){var b;if(2===B){if(!s)for(s={};b=Bc.exec(l);)s[b[1].toLowerCase()]=b[2];b=s[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===B?l:null},setRequestHeader:function(a,b){var d=a.toLowerCase();return B||(a=C[d]=C[d]||a,A[a]=b),this},overrideMimeType:function(a){return B||(u.mimeType=a),this},statusCode:function(a){var b;
if(a)if(2>B)for(b in a)E[b]=[E[b],a[b]];else z.always(a[z.status]);return this},abort:function(a){a=a||D;return t&&t.abort(a),e(0,a),this}};if(y.promise(z).complete=F.add,z.success=z.done,z.error=z.fail,u.url=((a||u.url||na)+"").replace(Ac,"").replace(Dc,da[1]+"//"),u.type=c.method||c.type||u.method||u.type,u.dataTypes=d.trim(u.dataType||"*").toLowerCase().match(X)||[""],null==u.crossDomain&&(g=Fb.exec(u.url.toLowerCase()),u.crossDomain=!(!g||g[1]===da[1]&&g[2]===da[2]&&(g[3]||("http:"===g[1]?"80":
"443"))===(da[3]||("http:"===da[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=d.param(u.data,u.traditional)),fb(Hb,u,c,z),2===B)return z;(r=u.global)&&0===d.active++&&d.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!Cc.test(u.type);k=u.url;u.hasContent||(u.data&&(k=u.url+=(Za.test(k)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Eb.test(k)?k.replace(Eb,"$1_="+Ya++):k+(Za.test(k)?"&":"?")+"_="+Ya++));u.ifModified&&(d.lastModified[k]&&z.setRequestHeader("If-Modified-Since",
d.lastModified[k]),d.etag[k]&&z.setRequestHeader("If-None-Match",d.etag[k]));(u.data&&u.hasContent&&!1!==u.contentType||c.contentType)&&z.setRequestHeader("Content-Type",u.contentType);z.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Ib+"; q=0.01":""):u.accepts["*"]);for(n in u.headers)z.setRequestHeader(n,u.headers[n]);if(u.beforeSend&&(!1===u.beforeSend.call(w,z,u)||2===B))return z.abort();D="abort";for(n in{success:1,error:1,
complete:1})z[n](u[n]);if(t=fb(Oa,u,c,z)){z.readyState=1;r&&x.trigger("ajaxSend",[z,u]);u.async&&0<u.timeout&&(m=setTimeout(function(){z.abort("timeout")},u.timeout));try{B=1,t.send(A,e)}catch(H){if(!(2>B))throw H;e(-1,H)}}else e(-1,"No Transport");return z},getJSON:function(a,b,c){return d.get(a,b,c,"json")},getScript:function(a,c){return d.get(a,b,c,"script")}});d.each(["get","post"],function(a,c){d[c]=function(a,f,e,k){return d.isFunction(f)&&(k=k||e,e=f,f=b),d.ajax({url:a,type:c,dataType:k,data:f,
success:e})}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return d.globalEval(a),a}}});d.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});d.ajaxTransport("script",function(a){if(a.crossDomain){var c,e=x.head||d("head")[0]||x.documentElement;return{send:function(b,d){c=x.createElement("script");
c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||d(200,"success"))};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Jb=[],$a=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||d.expando+"_"+Ya++;return this[a]=!0,a}});d.ajaxPrefilter("json jsonp",
function(c,e,h){var g,n,k,l=!1!==c.jsonp&&($a.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&$a.test(c.data)&&"data");return l||"jsonp"===c.dataTypes[0]?(g=c.jsonpCallback=d.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,l?c[l]=c[l].replace($a,"$1"+g):!1!==c.jsonp&&(c.url+=(Za.test(c.url)?"&":"?")+c.jsonp+"="+g),c.converters["script json"]=function(){return k||d.error(g+" was not called"),k[0]},c.dataTypes[0]="json",n=a[g],
a[g]=function(){k=arguments},h.always(function(){a[g]=n;c[g]&&(c.jsonpCallback=e.jsonpCallback,Jb.push(g));k&&d.isFunction(n)&&n(k[0]);k=n=b}),"script"):b});var ya,Da,Ec=0,ab=a.ActiveXObject&&function(){for(var a in ya)ya[a](b,!0)};d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&gb()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:gb;Da=d.ajaxSettings.xhr();d.support.cors=!!Da&&"withCredentials"in Da;(Da=d.support.ajax=!!Da)&&d.ajaxTransport(function(c){if(!c.crossDomain||
d.support.cors){var e;return{send:function(h,g){var k,q,l=c.xhr();if(c.username?l.open(c.type,c.url,c.async,c.username,c.password):l.open(c.type,c.url,c.async),c.xhrFields)for(q in c.xhrFields)l[q]=c.xhrFields[q];c.mimeType&&l.overrideMimeType&&l.overrideMimeType(c.mimeType);c.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");try{for(q in h)l.setRequestHeader(q,h[q])}catch(m){}l.send(c.hasContent&&c.data||null);e=function(a,h){var q,m,r,v;try{if(e&&(h||4===l.readyState))if(e=
b,k&&(l.onreadystatechange=d.noop,ab&&delete ya[k]),h)4!==l.readyState&&l.abort();else{v={};q=l.status;m=l.getAllResponseHeaders();"string"==typeof l.responseText&&(v.text=l.responseText);try{r=l.statusText}catch(t){r=""}q||!c.isLocal||c.crossDomain?1223===q&&(q=204):q=v.text?200:404}}catch(s){h||g(-1,s)}v&&g(q,r,v,m)};c.async?4===l.readyState?setTimeout(e):(k=++Ec,ab&&(ya||(ya={},d(a).unload(ab)),ya[k]=e),l.onreadystatechange=e):e()},abort:function(){e&&e(b,!0)}}}});var ca,Ma,Fc=/^(?:toggle|show|hide)$/,
Kb=RegExp("^(?:([+-])=|)("+Ja+")([a-z%]*)$","i"),Gc=/queueHooks$/,Fa=[function(a,b,c){var e,k,q,l,m,r=this,t={},s=a.style,u=a.nodeType&&H(a),w=d._data(a,"fxshow");c.queue||(l=d._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,r.always(function(){r.always(function(){l.unqueued--;d.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[s.overflow,s.overflowX,s.overflowY],"inline"===
d.css(a,"display")&&"none"===d.css(a,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==Y(a.nodeName)?s.zoom=1:s.display="inline-block"));c.overflow&&(s.overflow="hidden",d.support.shrinkWrapBlocks||r.always(function(){s.overflow=c.overflow[0];s.overflowX=c.overflow[1];s.overflowY=c.overflow[2]}));for(e in b)(k=b[e],Fc.exec(k))&&(delete b[e],q=q||"toggle"===k,k!==(u?"hide":"show"))&&(t[e]=w&&w[e]||d.style(a,e));if(!d.isEmptyObject(t))for(e in w?"hidden"in w&&(u=w.hidden):w=d._data(a,"fxshow",
{}),q&&(w.hidden=!u),u?d(a).show():r.done(function(){d(a).hide()}),r.done(function(){var b;d._removeData(a,"fxshow");for(b in t)d.style(a,b,t[b])}),t)b=ib(u?w[e]:0,e,r),e in w||(w[e]=b.start,u&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],Aa={"*":[function(a,b){var c=this.createTween(a,b),e=c.cur(),k=Kb.exec(b),q=k&&k[3]||(d.cssNumber[a]?"":"px"),l=(d.cssNumber[a]||"px"!==q&&+e)&&Kb.exec(d.css(c.elem,a)),m=1,r=20;if(l&&l[3]!==q){q=q||l[3];k=k||[];l=+e||1;do m=m||".5",l/=m,d.style(c.elem,
a,l+q);while(m!==(m=c.cur()/e)&&1!==m&&--r)}return k&&(l=c.start=+l||+e||0,c.unit=q,c.end=k[1]?l+(k[1]+1)*k[2]:+k[2]),c}]};d.Animation=d.extend(jb,{tweener:function(a,b){d.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,e=0,k=a.length;k>e;e++)c=a[e],Aa[c]=Aa[c]||[],Aa[c].unshift(b)},prefilter:function(a,b){b?Fa.unshift(a):Fa.push(a)}});d.Tween=M;M.prototype={constructor:M,init:function(a,b,c,e,k,q){this.elem=a;this.prop=c;this.easing=k||"swing";this.options=b;this.start=this.now=this.cur();this.end=
e;this.unit=q||(d.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];return this.pos=b=this.options.duration?d.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}};M.prototype.init.prototype=
M.prototype;M.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=d.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){d.fx.step[a.prop]?d.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[d.cssProps[a.prop]]||d.cssHooks[a.prop])?d.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};
d.each(["toggle","show","hide"],function(a,b){var c=d.fn[b];d.fn[b]=function(a,d,f){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ga(b,!0),a,d,f)}});d.fn.extend({fadeTo:function(a,b,d,c){return this.filter(H).css("opacity",0).show().end().animate({opacity:b},a,d,c)},animate:function(a,b,c,e){var k=d.isEmptyObject(a),q=d.speed(b,c,e);b=function(){var b=jb(this,d.extend({},a),q);(k||d._data(this,"finish"))&&b.stop(!0)};return b.finish=b,k||!1===q.queue?this.each(b):this.queue(q.queue,
b)},stop:function(a,c,e){var g=function(a){var b=a.stop;delete a.stop;b(e)};return"string"!=typeof a&&(e=c,c=a,a=b),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",k=d.timers,p=d._data(this);if(c)p[c]&&p[c].stop&&g(p[c]);else for(c in p)p[c]&&p[c].stop&&Gc.test(c)&&g(p[c]);for(c=k.length;c--;)k[c].elem!==this||null!=a&&k[c].queue!==a||(k[c].anim.stop(e),b=!1,k.splice(c,1));!b&&e||d.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,
c=d._data(this),e=c[a+"queue"];b=c[a+"queueHooks"];var k=d.timers,m=e?e.length:0;c.finish=!0;d.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=k.length;b--;)k[b].elem===this&&k[b].queue===a&&(k[b].anim.stop(!0),k.splice(b,1));for(b=0;m>b;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});d.each({slideDown:Ga("show"),slideUp:Ga("hide"),slideToggle:Ga("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(a,d,c){return this.animate(b,
a,d,c)}});d.speed=function(a,b,c){var e=a&&"object"==typeof a?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};return e.duration=d.fx.off?0:"number"==typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default,(null==e.queue||!0===e.queue)&&(e.queue="fx"),e.old=e.complete,e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)},e};d.easing={linear:function(a){return a},
swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};d.timers=[];d.fx=M.prototype.init;d.fx.tick=function(){var a,c=d.timers,e=0;for(ca=d.now();c.length>e;e++)a=c[e],a()||c[e]!==a||c.splice(e--,1);c.length||d.fx.stop();ca=b};d.fx.timer=function(a){a()&&d.timers.push(a)&&d.fx.start()};d.fx.interval=13;d.fx.start=function(){Ma||(Ma=setInterval(d.fx.tick,d.fx.interval))};d.fx.stop=function(){clearInterval(Ma);Ma=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&
(d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length});d.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){d.offset.setOffset(this,a,b)});var c,e,g={top:0,left:0},k=this[0],m=k&&k.ownerDocument;if(m)return c=m.documentElement,d.contains(c,k)?(typeof k.getBoundingClientRect!==Q&&(g=k.getBoundingClientRect()),e=kb(m),{top:g.top+(e.pageYOffset||c.scrollTop)-(c.clientTop||0),left:g.left+(e.pageXOffset||c.scrollLeft)-(c.clientLeft||
0)}):g};d.offset={setOffset:function(a,b,c){var e=d.css(a,"position");"static"===e&&(a.style.position="relative");var k=d(a),m=k.offset(),l=d.css(a,"top"),r=d.css(a,"left"),s={},t={},w,u;("absolute"===e||"fixed"===e)&&-1<d.inArray("auto",[l,r])?(t=k.position(),w=t.top,u=t.left):(w=parseFloat(l)||0,u=parseFloat(r)||0);d.isFunction(b)&&(b=b.call(a,c,m));null!=b.top&&(s.top=b.top-m.top+w);null!=b.left&&(s.left=b.left-m.left+u);"using"in b?b.using.call(a,s):k.css(s)}};d.fn.extend({position:function(){if(this[0]){var a,
b,c={top:0,left:0},e=this[0];return"fixed"===d.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),d.nodeName(a[0],"html")||(c=a.offset()),c.top+=d.css(a[0],"borderTopWidth",!0),c.left+=d.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-d.css(e,"marginTop",!0),left:b.left-c.left-d.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||mb;a&&!d.nodeName(a,"html")&&"static"===d.css(a,"position");)a=a.offsetParent;return a||
mb})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var e=/Y/.test(c);d.fn[a]=function(g){return d.access(this,function(a,f,g){var k=kb(a);return g===b?k?c in k?k[c]:k.document.documentElement[f]:a[f]:(k?k.scrollTo(e?d(k).scrollLeft():g,e?g:d(k).scrollTop()):a[f]=g,b)},a,g,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(a,c){d.each({padding:"inner"+a,content:c,"":"outer"+a},function(e,g){d.fn[g]=function(g,k){var l=arguments.length&&(e||"boolean"!=
typeof g),m=e||(!0===g||!0===k?"margin":"border");return d.access(this,function(c,e,g){var h;return d.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(h=c.documentElement,Math.max(c.body["scroll"+a],h["scroll"+a],c.body["offset"+a],h["offset"+a],h["client"+a])):g===b?d.css(c,e,m):d.style(c,e,g,m)},c,l?g:b,l,null)}})});d.fn.size=function(){return this.length};d.fn.andSelf=d.fn.addBack;"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=d:(a.jQuery=a.$=
d,"function"==typeof define&&define.amd&&define("jquery",[],function(){return d}))})(window);
var TARGET_TIMESTEP=1/30,MAX_TIMESTEP=0.25,MIN_TIMESTEP=0.04,IMAGE_VERSION=20,SOUND_VERSION=2,FLOAT_COUNT=12,MAX_FLOAT_RADIUS=75,MAX_SEAL_FLOAT_RADIUS=1.7*MAX_FLOAT_RADIUS,MAX_FLOAT_RADIUS_2=MAX_FLOAT_RADIUS*MAX_FLOAT_RADIUS,FLOAT_RADIUS_DELTA=20,FLOAT_BUFFER=30,BEAR_HEAD_OFFSET=45,BEAR_HEAD_RIPPLE_OFFSET=50,BEAR_HEAD_TREAD_RIPPLE_OFFSET=20,BEAR_HEAD_RADIUS=20,BEAR_BODY_RADIUS=90,BEAR_BODY_RADIUS_2=BEAR_BODY_RADIUS*BEAR_BODY_RADIUS,BEAR_ANIMATION_X_OFFSET=30,BEAR_ANIMATION_Y_OFFSET=0,BEAR_LOOK_FREQ_MIN=
3,BEAR_LOOK_FREQ_MAX=9,LOOK_TIME_AFTER_STOPPING=0.25,SEAL_DIVE_RIPPLE_STRENGTH=5E4,SEAL_HEAD_OFFSET=40,SEAL_HEAD_CONE_OFFSET=SEAL_HEAD_OFFSET+15,SEAL_HEAD_RADIAN_OFFSET=10*(Math.PI/180),WALK_SPEED=96,FLOAT_PLACEMENT_ATTEMPT_COUNT=100,DISTANCE_PER_CLIMBING_STEP=20,FLOAT_RIPPLE_RATE=3,FLOAT_RIPPLE_STRENGTH=11E3,FLOAT_SWAY_RANGE=1,FLOAT_SWAY_RATE=3,JUMP_IN_WATER_RIPPLE_STRENGTH=5E4,CLIMB_ON_ICE_RIPPLE_STRENGTH=5E4,SWIMMING_RIPPLE_STRENGTH=8E3,TREADING_RIPPLE_STRENGTH=8E3,ATTACKING_RIPPLE_STRENGTH=5E4,
RIPPLE_WARMUP_UPDATE_COUNT=20,BEAR_SWIM_RIPPLE_RATE=0.25,BEAR_TREAD_RIPPLE_RATE=1.5,RIPPLE_CANVAS_SCALING=0.3,WATER_ANIMATION_SPEED=5,WATER_PULSE_ALPHA_MIN=0.2,WATER_PULSE_ALPHA_MAX=0.6,WATER_PULSE_RATE=0.24,WATER_TEXTURE_HEIGHT=256,FOG_OF_WAR_COLOR="rgba(0,0,0,.32)",KNOCK_OUT_COLOR="rgba(0,0,0,1)",CONE_START_COLOR="rgba(120, 231, 255, .25)",CONE_END_COLOR="rgba(120, 231, 255, 0)",RIPPLE_TEXTURE_COLOR="rgba(5, 71, 128, 0.2)",NORMAL_CONE_SWEEP_ANGLE=Math.PI/6,CONE_SWEEP_RANGE=Math.PI/5,CONE_LENGTH=
550,CONE_ARC_RADIUS=40,CONE_BLUR_RADIUS=1,FOG_OF_WAR_SCALE=0.1,ANIMATION_FRAMERATE=0.033,BASE_TIME_ALLOWED_IN_CONE=0.2,ALPHA_THRESHOLD_FOR_BEING_SEEN=50,HOMING_IN_TIME=0.25,CONFIRMING_TIME=0.75,CONFIRM_TIME_ALERT_ANIMATION_DELAY=0.25,SCANNING_SPEED=Math.PI/2,SCAN_BASE_ROTATION_OFFSET=-10*(Math.PI/180),MIN_SCAN_TIME=2,MAX_SCAN_TIME=5,MIN_WADDLE_COUNT=1,MAX_WADDLE_COUNT=3,NORMAL_WADDLE_SPEED=Math.PI/2,ESCAPE_WADDLE_SPEED=Math.PI,ESCAPE_WADDLE_ANIMATION_FRAMERATE=ANIMATION_FRAMERATE/2,SEAL_RUNNING_SPEED=
100,SEAL_DIVING_SPEED=100,SEAL_DYING_TIME=1,CONE_CANVAS_FADE_SPEED=1,ALERT_ANIMATION_Y_OFFSET=-50,TAP_ANIM_DURATION=0.45,TAP_ANIM_START_RADIUS=5,TAP_ANIM_RADIUS_RANGE=45,TAP_ANIM_CURVE_START_WIDTH=4,TAP_ANIM_CURVE_WIDTH_RANGE=1,TAP_ANIM_BASE_COLOR="rgba(0, 204, 255, ",TAP_RIPPLE_STRENGTH=2E4,BEAR_THUMP_TIME=0.25,FLAKE_CANVAS_SCALING=0.35,FLAKE_SWAY_SPEED_MIN=Math.PI,FLAKE_SWAY_SPEED_MAX=Math.PI,FLAKE_SWAY_AMP_MIN=100,FLAKE_SWAY_AMP_MAX=150,FLAKE_SWAY_ROT_SPEED_MIN=-Math.PI/3,FLAKE_SWAY_ROT_SPEED_MAX=
Math.PI/3,FLAKE_FALL_SPEED=150,FLAKE_COUNT=90,FLAKE_RADIUS_MIN=20,FLAKE_RADIUS_MAX=20,DEPTH_OF_FIELD=200,VIEW_HEIGHT=1E3,FLAKE_FADE_OUT_HEIGHT=60,FLAKE_FADE_IN_HEIGHT=VIEW_HEIGHT-100,FLAKE_RIPPLE_STRENGTH=210,FLAKE_MAX_TIME_STEP=1,FLAKE_MAX_ALPHA=0.8;function setTransform(a,b){a.style.webkitTransform=b;a.style.MozTransform=b;a.style.msTransform=b;a.style.OTransform=b;a.style.transform=b}function makeDigitSuffix(a,b){for(var c=getDigitCount(a),e=a.toString();c<b;c++)e="0"+e;return e}
function getDigitCount(a){if(0==a)return 1;for(var b=1,c=0;a>=b;)c++,b*=10;return c}function getRandomSign(){return 0.5<Math.random()?1:-1}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function getRandomFloat(a,b){return a+Math.random()*(b-a)}function createRotTransform(a,b){return"rotate("+a+b+")"}function create3dTranslation(a,b,c){return"translate3d("+a+"px,"+b+"px,"+c+"px)"}function createScaleTransform(a,b,c){return"scale("+a+","+b+")"}
function randomSign(){return 0.5>Math.random()?-1:1}function getTime(){return(new Date).getTime()}function clampValue(a,b,c){return a<b?b:a>c?c:a}function normalizeValue(a){return a/(0!=a?Math.abs(a):1)}function normalizeAngle(a){var b=2*Math.PI;if(0<a)return a%b;0>a&&(a=b+a%-b);return a}function minimizeAngle(a){var b=Math.abs(a);b>Math.PI&&(b=Math.PI-b%Math.PI,a=0>a?b:-b);return a}
function angleDelta(a,b){var c=Math.abs(b-a);if(c<Math.PI)return a<b?c:-c;var e=a%(2*Math.PI),k=b%(2*Math.PI),c=Math.abs(k-e);if(c<Math.PI)return e<k?c:-c;c=minimizeAngle(c);return e<k?-c:c}function isPointInElement(a,b,c){return 0>b||0>c||b>=a.clientWidth||c>=a.clientHeight?!1:!0}function removeFromParent(a){a.parentNode.removeChild(a)}function Pool(a){this.m_instances=[];this.m_factory=a;this.m_logicalSize=0}
Pool.prototype.checkOut=function(){for(var a=this.m_instances.length;this.m_logicalSize>=a;)this.m_instances.push(null),a++;null==this.m_instances[this.m_logicalSize]&&(this.m_instances[this.m_logicalSize]=this.m_factory());a=this.m_instances[this.m_logicalSize];this.m_logicalSize++;return a};Pool.prototype.checkIn=function(a){0<this.m_logicalSize?(this.m_instances[this.m_logicalSize-1]=a,this.m_logicalSize--):console.log("WARN: pool for class is already empty.")};
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var m=(new Date).getTime(),s=Math.max(0,16-(m-a)),t=window.setTimeout(function(){b(m+s)},s);a=m+s;return t});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1});
var mul_table=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,
113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shg_table=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,
18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,
25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];
function boxBlurCanvasRGBA(a,b,c,e,k,m,s){for(var t=a.getImageData(b,c,e,k),r=t.data,w,y,C,B,F,A,D,G,K,J,E,sa=e-1,ta=k-1,H=m+1,ea=mul_table[m],R=shg_table[m],U=[],aa=[],Y=[],ha=[],N=[],Z=[];0<s--;){for(A=E=J=0;A<k;A++){w=r[E]*H;y=r[E+1]*H;C=r[E+2]*H;B=r[E+3]*H;for(D=1;D<=m;D++)G=E+((D>sa?sa:D)<<2),w+=r[G++],y+=r[G++],C+=r[G++],B+=r[G];for(F=0;F<e;F++)U[J]=w,aa[J]=y,Y[J]=C,ha[J]=B,0==A&&(N[F]=((G=F+H)<sa?G:sa)<<2,Z[F]=0<(G=F-m)?G<<2:0),D=E+N[F],K=E+Z[F],w+=r[D++]-r[K++],y+=r[D++]-r[K++],C+=r[D++]-
r[K++],B+=r[D]-r[K],J++;E+=e<<2}for(F=0;F<e;F++){A=F;w=U[A]*H;y=aa[A]*H;C=Y[A]*H;B=ha[A]*H;for(D=1;D<=m;D++)A+=D>ta?0:e,w+=U[A],y+=aa[A],C+=Y[A],B+=ha[A];J=F<<2;for(A=0;A<k;A++)r[J+3]=E=B*ea>>>R,0<E?(E=255/E,r[J]=(w*ea>>>R)*E,r[J+1]=(y*ea>>>R)*E,r[J+2]=(C*ea>>>R)*E):r[J]=r[J+1]=r[J+2]=0,0==F&&(N[A]=((G=A+H)<ta?G:ta)*e,Z[A]=0<(G=A-m)?G*e:0),D=F+N[A],K=F+Z[A],w+=U[D]-U[K],y+=aa[D]-aa[K],C+=Y[D]-Y[K],B+=ha[D]-ha[K],J+=e<<2}}a.putImageData(t,b,c)}var utilVector_point=null;
function initUtilVector(){utilVector_point=null==utilVector_point?new Point:utilVector_point}function Point(a,b,c){this.set(void 0==a?0:a,void 0==b?0:b,void 0==c?0:c)}Point.prototype.getX=function(){return this.m_x};Point.prototype.calcNormal=function(a){a.copy(this);a.normalize()};Point.prototype.normalize=function(){var a=this.calcLength();0!=a?this.set(this.m_x/a,this.m_y/a,this.m_z/a):this.zeroOut()};
Point.prototype.calcMidwayPoint=function(a,b){initUtilVector();this.calcDeltaTo(a,utilVector_point);utilVector_point.scaleByNumber(0.5);b.copy(this);b.translateBy(utilVector_point)};Point.prototype.setX=function(a){this.m_x=a};Point.prototype.getY=function(){return this.m_y};Point.prototype.setY=function(a){this.m_y=a};Point.prototype.getZ=function(){return this.m_z};Point.prototype.setZ=function(a){this.m_z=a};Point.prototype.incX=function(a){this.m_x+=a};
Point.prototype.incY=function(a){this.m_y+=a};Point.prototype.incZ=function(a){this.m_z+=a};Point.prototype.calcDistanceTo=function(a){return Math.sqrt(this.calcDistanceSquaredTo(a))};Point.prototype.calcDeltaTo=function(a,b){b.set(a.m_x-this.m_x,a.m_y-this.m_y,a.m_z-this.m_z)};Point.prototype.toString=function(){return"{"+this.m_x+", "+this.m_y+", "+this.m_z+"}"};Point.prototype.calcDistanceSquaredTo=function(a){var b=a.m_x-this.m_x,c=a.m_y-this.m_y;a=a.m_z-this.m_z;return b*b+c*c+a*a};
Point.prototype.copy=function(a){null!=a&&(this.m_x=a.m_x,this.m_y=a.m_y,this.m_z=a.m_z)};Point.prototype.set=function(a,b,c){this.m_x=a;this.m_y=b;this.m_z=void 0==c?0:c};Point.prototype.translateBy=function(a){this.m_x+=a.m_x;this.m_y+=a.m_y;this.m_z+=a.m_z};Point.prototype.scaleByNumber=function(a){this.m_x*=a;this.m_y*=a;this.m_z*=a};Point.prototype.round=function(){this.m_x=Math.round(this.m_x);this.m_y=Math.round(this.m_y);this.m_z=Math.round(this.m_z)};
Point.prototype.negate=function(){this.m_x*=-1;this.m_y*=-1;this.m_z*=-1};Point.prototype.calcLength=function(){return Math.sqrt(this.calcLengthSquared())};Point.prototype.calcLengthSquared=function(){return this.m_x*this.m_x+this.m_y*this.m_y+this.m_z*this.m_z};Point.prototype.setLength=function(a){var b=this.calcLength();0!=b&&(this.m_x/=b,this.m_y/=b,this.m_z/=b);this.scaleByNumber(a)};
Point.prototype.calcSignedAngleTo=function(a){a=-(Math.atan2(a.m_y,a.m_x)-Math.atan2(this.m_y,this.m_x));return a=minimizeAngle(-a)};Point.prototype.calcClockwiseAngleTo=function(a){a=this.calcSignedAngleTo(a);return 0>a?Math.PI+(Math.PI+a):a};Point.prototype.rotateBy=function(a,b){var c,e;b?(c=b.m_x,e=b.m_y):e=c=0;var k=Math.sin(a),m=Math.cos(a);this.set(c+m*(this.m_x-c)-k*(this.m_y-e),e+k*(this.m_x-c)+m*(this.m_y-e))};Point.prototype.setToPerpVector=function(){this.set(-this.m_y,this.m_x)};
var utilPoint_bb=new Point;function BoundBox(){this.m_min=new Point;this.m_max=new Point}BoundBox.prototype.set=function(a,b){this.m_min.copy(a);this.m_max.copy(b)};BoundBox.prototype.expandToPoint=function(a,b){b=void 0==b?0:b;a.getX()-b<this.m_min.getX()&&this.m_min.setX(a.getX()-b);a.getY()-b<this.m_min.getY()&&this.m_min.setY(a.getY()-b);a.getX()+b>this.m_max.getX()&&this.m_max.setX(a.getX()+b);a.getY()+b>this.m_max.getY()&&this.m_max.setY(a.getY()+b)};
BoundBox.prototype.setHeight=function(a){this.m_min.calcMidwayPoint(this.m_max,utilPoint_bb);this.m_min.setY(utilPoint_bb.getY()-a/2);this.m_max.setY(utilPoint_bb.getY()+a/2)};BoundBox.prototype.setWidth=function(a){this.m_min.calcMidwayPoint(this.m_max,utilPoint_bb);this.m_min.setX(utilPoint_bb.getX()-a/2);this.m_max.setX(utilPoint_bb.getX()+a/2)};
BoundBox.prototype.setDimensions=function(a,b){this.m_min.calcMidwayPoint(this.m_max,utilPoint_bb);this.m_min.setX(utilPoint_bb.getX()-a/2);this.m_max.setX(utilPoint_bb.getX()+a/2);this.m_min.setY(utilPoint_bb.getY()-b/2);this.m_max.setY(utilPoint_bb.getY()+b/2)};BoundBox.prototype.getMin=function(){return this.m_min};BoundBox.prototype.getMax=function(){return this.m_max};BoundBox.prototype.calcWidth=function(){return this.m_max.getX()-this.m_min.getX()};
BoundBox.prototype.calcHeight=function(){return this.m_max.getY()-this.m_min.getY()};BoundBox.prototype.calcIsIntersecting=function(a,b){this.m_min.calcMidwayPoint(this.m_max,utilPoint_bb);var c=this.calcWidth()/2,e=this.calcHeight()/2,k=Math.abs(a.getX()-utilPoint_bb.getX()),m=Math.abs(a.getY()-utilPoint_bb.getY());return k>c+b||m>e+b?!1:k<=c||m<=e?!0:(k-c)*(k-c)+(m-e)*(m-e)<=b*b};
var utilVector_cone=new Point,utilLine_cone=new Point,utilPoint1_cone=new Point,utilPoint2_cone=new Point,utilPoint3_cone=new Point,ARC_BASE=new Point(1,0);function VisionCone(a,b){this.m_canvas=a;this.m_context=b;this.m_startPoint=new Point;this.m_endPoint=new Point;this.m_vector=new Point;this.m_rotation=this.m_length=0;this.m_boundBox=new BoundBox}VisionCone.prototype.init=function(a){this.m_iceFloat=a};VisionCone.prototype.getStartPoint=function(){return this.m_startPoint};
VisionCone.prototype.getEndPoint=function(){return this.m_endPoint};VisionCone.prototype.getVector=function(){return this.m_vector};VisionCone.prototype.getLength=function(){return this.m_length};VisionCone.prototype.getIceFloat=function(){return this.m_iceFloat};VisionCone.prototype.getBoundBox=function(){return this.m_boundBox};VisionCone.prototype.getSweepAngle=function(){return this.m_sweepAngle};VisionCone.prototype.getRotation=function(){return this.m_rotation};
VisionCone.prototype.set=function(a,b,c,e){this.m_sweepAngle=c;this.m_length=e;this.m_startPoint.copy(a);this.m_rotation=b;this.m_endPoint.copy(this.m_startPoint);this.m_vector.set(0,-this.m_length);this.m_endPoint.translateBy(this.m_vector);this.m_endPoint.rotateBy(this.m_rotation,this.m_startPoint);this.m_startPoint.calcDeltaTo(this.m_endPoint,this.m_vector)};VisionCone.prototype.moveTo=function(a,b,c){a.moveTo(b*FOG_OF_WAR_SCALE,c*FOG_OF_WAR_SCALE)};
VisionCone.prototype.lineTo=function(a,b,c){a.lineTo(b*FOG_OF_WAR_SCALE,c*FOG_OF_WAR_SCALE)};VisionCone.prototype.arcTo=function(a,b,c,e,k,m){a.arcTo(b*FOG_OF_WAR_SCALE,c*FOG_OF_WAR_SCALE,e*FOG_OF_WAR_SCALE,k*FOG_OF_WAR_SCALE,m*FOG_OF_WAR_SCALE)};VisionCone.prototype.arc=function(a,b,c,e,k,m){this.m_context.arc(b*FOG_OF_WAR_SCALE,c*FOG_OF_WAR_SCALE,e*FOG_OF_WAR_SCALE,k,m,!1)};
VisionCone.prototype.clear=function(a){this.m_context.clearRect(0,0,a.width,a.height);this.m_context.globalCompositeOperation="copy";this.m_context.fillStyle=FOG_OF_WAR_COLOR;this.m_context.fillRect(0,0,a.width,a.height)};
VisionCone.prototype.draw=function(a){this.m_boundBox.set(this.getStartPoint(),this.getStartPoint());this.clear(a);this.m_context.globalCompositeOperation="destination-out";this.m_context.fillStyle=KNOCK_OUT_COLOR;this.m_context.beginPath();this.moveTo(this.m_context,this.m_startPoint.getX(),this.m_startPoint.getY());utilPoint1_cone.copy(this.m_startPoint);utilPoint1_cone.translateBy(this.m_vector);utilPoint1_cone.rotateBy(-this.m_sweepAngle/2,this.m_startPoint);this.lineTo(this.m_context,utilPoint1_cone.getX(),
utilPoint1_cone.getY());this.m_boundBox.expandToPoint(utilPoint1_cone,10);this.m_startPoint.calcDeltaTo(utilPoint1_cone,utilVector_cone);a=ARC_BASE.calcClockwiseAngleTo(utilVector_cone);this.arc(this.m_context,this.m_startPoint.getX(),this.m_startPoint.getY(),this.m_length,a,a+this.m_sweepAngle,!1);utilPoint1_cone.copy(this.m_startPoint);utilPoint1_cone.translateBy(this.m_vector);utilPoint1_cone.rotateBy(this.m_sweepAngle/2,this.m_startPoint);this.moveTo(this.m_context,utilPoint1_cone.getX(),utilPoint1_cone.getY());
this.lineTo(this.m_context,this.m_startPoint.getX(),this.m_startPoint.getY());this.m_boundBox.expandToPoint(utilPoint1_cone,10);this.m_context.fill()};VisionCone.prototype.blur=function(a){boxBlurCanvasRGBA(this.m_context,0,0,a.width,a.height,CONE_BLUR_RADIUS,1)};
VisionCone.prototype.isIntersecting=function(a){var b=Math.round(a.getX()*FOG_OF_WAR_SCALE),c=Math.round(a.getY()*FOG_OF_WAR_SCALE);if(!isPointInElement(this.m_canvas,a.getX(),a.getY()))return!1;a=this.m_context.getImageData(b,c,1,1).data;return 0==a[0]&&0==a[1]&&0==a[2]&&a[3]<=ALPHA_THRESHOLD_FOR_BEING_SEEN?!0:!1};
var utilVector1_float=new Point,utilVector2_float=new Point,utilPoint1_float=new Point,utilPoint2_float=new Point,utilPoint3_float=new Point,utilPoint4_float=new Point,utilPoint5_float=new Point,utilBB_float=new BoundBox,flatFloats=["IceBerg01_0000"],flatFloatCenterOffsets=[new Point(0,-8)],flatFloatKnockOutCenterOffsets=[new Point(0,-8)],flatColRadii=[73],flatKnockOutRadii=[73],nonFlatFloats=["IceBerg01b_0000","IceBerg01c_0000","IceBerg01d_0000","IceBerg01e_0000"],nonFlatFloatCenterOffsets=[new Point(0,
-5),new Point(0,-8),new Point(0,-8),new Point(2,-6)],nonFlatFloatKnockOutCenterOffsets=[new Point(-5,2),new Point(3,0),new Point(0,0),new Point(2,-4)],nonFlatColRadii=[55,55,55,64],nonFlatKnockOutRadii=[45,55,50,60],FloatType={FLAT:0,NON_FLAT:1};function getFloatImg(a,b){return"./img/"+(a==FloatType.FLAT?flatFloats:nonFlatFloats)[b]+".png?v="+IMAGE_VERSION}
function Float(){this.m_randomStartTime=Math.random()*FLOAT_RIPPLE_RATE;this.m_timeTracker=0;this.m_point=new Point;this.m_wrapper=document.createElement("div");this.m_wrapper.className="ice_float_wrapper";this.m_wrapper.iceFloat=this;this.m_wrapper.style.display="none";this.m_float=document.createElement("img");this.m_float.className="ice_float";this.m_knockOutCenterOffset=new Point;this.m_wrapper.appendChild(this.m_float);this.m_floatSwayTimeTracker=0}Float.prototype.destroy=function(){removeFromParent(this.m_wrapper)};
Float.prototype.init=function(a,b){this.m_type=a;var c=this.m_centerOffset=(a==FloatType.FLAT?flatFloatCenterOffsets:nonFlatFloatCenterOffsets)[b];this.m_radius=(a==FloatType.FLAT?flatColRadii:nonFlatColRadii)[b];this.m_radius_2=this.m_radius*this.m_radius;this.m_knockOutRadius=(a==FloatType.FLAT?flatKnockOutRadii:nonFlatKnockOutRadii)[b];this.m_knockOutCenterOffset.copy((a==FloatType.FLAT?flatFloatKnockOutCenterOffsets:nonFlatFloatKnockOutCenterOffsets)[b]);var e=this.m_wrapper;$(this.m_float).load(function(){$this=
$(this);e.style.display="block";var a=-(this.height/2)+c.getY(),b=-(this.width/2)+c.getX();this.style.top=a+"px";this.style.left=b+"px";this.style.borderRadius=3*this.m_radius+"px"});this.m_float.src=getFloatImg(a,b);this.m_floatSwayTimeTracker=0};Float.prototype.getElement=function(){return this.m_wrapper};Float.prototype.getPoint=function(){return this.m_point};Float.prototype.getRadius_2=function(){return this.m_radius_2};Float.prototype.getRadius=function(){return this.m_radius};
Float.prototype.getKnockOutRadius=function(){return this.m_knockOutRadius};Float.prototype.getKnockOutCenterOffset=function(){return this.m_knockOutCenterOffset};Float.prototype.getType=function(){return this.m_type};Float.prototype.syncActor=function(a){a=void 0==a?this.m_point.m_y:a;this.m_wrapper.style.left=this.m_point.m_x+"px";this.m_wrapper.style.top=a+"px"};
Float.prototype.calcIsIntersectingFloat=function(a,b){var c=void 0==b?this.m_radius:b,e=void 0==b?a.m_radius:b,k=this.m_point.calcDistanceSquaredTo(a.m_point),c=c+e+2*FLOAT_BUFFER;return!(k>c*c)};Float.prototype.calcIsIntersectingPoint=function(a,b,c){b=void 0==b?0:b;c=void 0==c?this.m_radius:c;a=a.calcDistanceSquaredTo(this.getPoint());b+=c;return a<b*b?!0:!1};Float.prototype.calcIsIntersectingCone=function(a){return a.getBoundBox().calcIsIntersecting(this.getPoint(),this.getRadius()+FLOAT_BUFFER)};
Float.prototype.ripple=function(a,b){var c=Math.round(this.getPoint().getX()-b),e=Math.round(this.getPoint().getY());a.disturb(c,e,FLOAT_RIPPLE_STRENGTH)};Float.prototype.update=function(a,b,c){this.m_timeTracker+=a;this.m_timeTracker>=this.m_randomStartTime+FLOAT_RIPPLE_RATE&&(this.ripple(b,c),this.m_timeTracker=this.m_randomStartTime)};
Float.prototype.knockOutShadow=function(a,b){var c=this.getKnockOutRadius();utilPoint5_float.copy(this.getPoint());utilPoint5_float.incX(this.getKnockOutCenterOffset().getX());utilPoint5_float.incY(this.getKnockOutCenterOffset().getY());a.getStartPoint().calcDeltaTo(utilPoint5_float,utilVector1_float);utilVector1_float.setToPerpVector();utilVector1_float.setLength(c);utilPoint1_float.copy(utilPoint5_float);utilPoint1_float.translateBy(utilVector1_float);utilPoint2_float.copy(utilPoint1_float);a.getStartPoint().calcDeltaTo(utilPoint2_float,
utilVector2_float);utilVector2_float.setLength(a.getLength());utilPoint2_float.translateBy(utilVector2_float);utilVector1_float.negate();utilPoint4_float.copy(utilPoint5_float);utilPoint4_float.translateBy(utilVector1_float);utilPoint3_float.copy(utilPoint4_float);a.getStartPoint().calcDeltaTo(utilPoint3_float,utilVector2_float);utilVector2_float.setLength(a.getLength());utilPoint3_float.translateBy(utilVector2_float);b.beginPath();a.moveTo(b,utilPoint1_float.getX(),utilPoint1_float.getY());a.lineTo(b,
utilPoint2_float.getX(),utilPoint2_float.getY());a.lineTo(b,utilPoint3_float.getX(),utilPoint3_float.getY());a.lineTo(b,utilPoint4_float.getX(),utilPoint4_float.getY());a.getStartPoint().calcDeltaTo(utilPoint5_float,utilVector1_float);utilVector1_float.setLength(c);utilPoint2_float.copy(utilPoint1_float);utilPoint2_float.translateBy(utilVector1_float);utilPoint4_float.translateBy(utilVector1_float);utilPoint3_float.copy(utilPoint5_float);utilPoint3_float.translateBy(utilVector1_float);b.fill()};
function FloatManager(a,b){function c(){e++;e==k&&b()}this.m_timeTracker=this.m_sideIceSize=0;this.m_floats=[];this.m_container=a;this.m_$container=$(this.m_container);this.m_uiBBs=null;var e=0,k=nonFlatFloats.length+flatFloats.length,m,s;for(m=0;m<nonFlatFloats.length;m++)s=new Image,$(s).bind("load",c()),s.url=getFloatImg(FloatType.NON_FLAT,m);for(m=0;m<flatFloats.length;m++)s=new Image,$(s).bind("load",c()),s.url=getFloatImg(FloatType.FLAT,m)}
FloatManager.prototype.initInterfaceBB=function(a){var b=new BoundBox,c=a.offset().left-this.m_$container.offset().left,e=a.offset().top-this.m_$container.offset().top;b.getMin().set(c,e);b.getMax().set(c+a.width(),e+a.height());this.m_uiBBs.push(b)};FloatManager.prototype.clear=function(){for(var a=this.m_floats.length,b=0;b<a;b++)this.m_floats[b].destroy();this.m_floats.length=0};
FloatManager.prototype.init=function(a,b,c){null==this.m_uiBBs&&(this.m_uiBBs=[],this.initInterfaceBB($(".mute_wrapper")),this.initInterfaceBB($(".beta_img")));this.clear();var e=$(this.m_container).width(),k=$(this.m_container).height();this.m_rightMostFloat=this.m_leftMostFloat=null;utilPoint1_float.set(a,b);utilBB_float.set(utilPoint1_float,utilPoint1_float);utilBB_float.setDimensions(BEAR_BODY_RADIUS,BEAR_BODY_RADIUS);for(a=0;a<c;a++){b=new Float;for(var m=MAX_FLOAT_RADIUS,s=-m/4,t=-m/4,r=e+m/
2,w=k+m/2,y=!1,C=0;C<FLOAT_PLACEMENT_ATTEMPT_COUNT;C++){var B,F;0==this.m_floats.length?(B=e-1.25*m,F=m+FLOAT_BUFFER+Math.random()*(k-(2*m+2*FLOAT_BUFFER))):(B=s+Math.random()*r,F=t+Math.random()*w);b.getPoint().set(B,F);B=!1;if(!utilBB_float.calcIsIntersecting(b.getPoint(),MAX_FLOAT_RADIUS)){for(F=0;F<this.m_uiBBs.length;F++)if(this.m_uiBBs[F].calcIsIntersecting(b.getPoint(),MAX_FLOAT_RADIUS)){B=!0;break}if(!B){F=this.m_floats.length;for(var A=0;A<F;A++)if(b.calcIsIntersectingFloat(this.m_floats[A],
0==A?MAX_SEAL_FLOAT_RADIUS:MAX_FLOAT_RADIUS)){B=!0;break}if(!B){y=!0;break}}}}y&&(b.syncActor(),this.m_container.appendChild(b.getElement()),this.m_floats.push(b),1==this.m_floats.length?(this.m_rightMostFloat=b,b.init(FloatType.FLAT,getRandomInt(0,flatFloats.length-1))):b.init(FloatType.NON_FLAT,getRandomInt(0,nonFlatFloats.length-1)))}};FloatManager.prototype.getFloatAtPoint=function(a,b){for(var c=this.m_floats.length,e=0;e<c;e++){var k=this.m_floats[e];if(k.calcIsIntersectingPoint(a,b))return k}return null};
FloatManager.prototype.ripple=function(a){for(var b=this.m_floats.length,c=0;c<b;c++)this.m_floats[c].ripple(a,this.m_sideIceSize)};FloatManager.prototype.update=function(a,b){this.m_timeTracker+=a;for(var c=this.m_floats.length,e=0;e<c;e++)this.m_floats[e].update(a,b,this.m_sideIceSize)};
FloatManager.prototype.knockOutVisionCone=function(a,b,c){b=this.m_floats.length;for(var e=0;e<b;e++){var k=this.m_floats[e];k!=a.getIceFloat()&&(k.getType()!=FloatType.FLAT&&k.calcIsIntersectingCone(a))&&(c.globalCompositeOperation="destination-out",c.fillStyle=KNOCK_OUT_COLOR,k.knockOutShadow(a,c),c.globalCompositeOperation="source-over",c.fillStyle=FOG_OF_WAR_COLOR,k.knockOutShadow(a,c))}};FloatManager.prototype.getFloats=function(){return this.m_floats};
FloatManager.prototype.getRightMostFloat=function(){return this.m_rightMostFloat};
function Animation(a,b,c,e,k,m,s){m=void 0==m?0:m;s=void 0==s?0:s;this.m_wrapper=document.createElement("div");this.m_wrapper.className="animation";var t=0;this.m_frames=[];for(var r=0;r<b;r++){var w=document.createElement("img");$(w).load(function(){this.style.top=-this.height/2+s+"px";this.style.left=-this.width/2+m+"px";t++;b==t&&k()});var y=makeDigitSuffix(r,e);this.m_wrapper.appendChild(w);w.src="./img/"+a+"_"+y+".png?v="+IMAGE_VERSION;w.style.visibility="hidden";w.className="animation_frame";
this.m_frames.push(w)}this.m_frameRate=c;this.m_timeTracker=0;this.m_currentFrame=-1;this.m_justRepeatedFrame=this.m_justChangedFrame=!1;this.m_isRepeating=!0;this.m_paused=!1;this.hide()}Animation.prototype.setIsRepeating=function(a){this.m_isRepeating=a};Animation.prototype.pause=function(a){this.m_paused=a};Animation.prototype.isPaused=function(){return this.m_paused};Animation.prototype.justRepeated=function(){return this.m_justRepeatedFrame};
Animation.prototype.hide=function(){this.m_wrapper.style.visibility="hidden";0<=this.m_currentFrame&&(this.m_frames[this.m_currentFrame].style.visibility="hidden")};Animation.prototype.show=function(){this.m_wrapper.style.visibility="visible";0<=this.m_currentFrame&&(this.m_frames[this.m_currentFrame].style.visibility="visible")};Animation.prototype.reset=function(){this.m_timeTracker=0;this.setFrame(0)};
Animation.prototype.setFrame=function(a){a!=this.m_currentFrame&&(0<=this.m_currentFrame&&(this.m_frames[this.m_currentFrame].style.visibility="hidden"),this.m_currentFrame=a,this.m_frames[this.m_currentFrame].style.visibility="visible",this.m_justChangedFrame=!0)};
Animation.prototype.update=function(a){if(!this.m_paused){this.m_timeTracker+=a;this.m_justRepeatedFrame=this.m_justChangedFrame=!1;a=Math.floor(this.m_timeTracker/this.m_frameRate);if(a>=this.m_frames.length){if(!this.m_isRepeating)return;this.m_justRepeatedFrame=!0;this.m_timeTracker=0}a%=this.m_frames.length;this.setFrame(a)}};Animation.prototype.justChangedFrame=function(){return this.m_justChangedFrame};Animation.prototype.getCurrentFrame=function(){return this.m_currentFrame};
Animation.prototype.getFrameCount=function(){return this.m_frames.length};Animation.prototype.getElement=function(){return this.m_wrapper};function AnimationManager(a,b,c,e,k){function m(){s++;s==t&&c()}var s=0,t=a.length/4;this.m_animations=[];for(var r=0;r<a.length;r+=4){var w=new Animation(a[r],a[r+1],a[r+2],a[r+3],m,e,k);b.appendChild(w.getElement());this.m_animations.push(w)}this.m_currentAnimation=-1}AnimationManager.prototype.getAnimation=function(a){return this.m_animations[a]};
AnimationManager.prototype.getCurrentAnimation=function(){return this.m_animations[this.m_currentAnimation]};AnimationManager.prototype.setAnimation=function(a){if(a!=this.m_currentAnimation){var b=null;0<=this.m_currentAnimation&&(b=this.m_animations[this.m_currentAnimation],this.m_animations[this.m_currentAnimation].hide());this.m_currentAnimation=a;b!=this.m_animations[this.m_currentAnimation]&&this.m_animations[this.m_currentAnimation].reset();this.m_animations[this.m_currentAnimation].show()}};
AnimationManager.prototype.update=function(a){this.m_animations[this.m_currentAnimation].update(a)};function Tap(a,b){this.m_point=new Point(a,b);this.m_time=0}Tap.prototype.update=function(a,b,c){this.m_time+=b;var e=this.m_time/TAP_ANIM_DURATION;1>e&&(b=1-e,e=Math.pow(e,0.25),e=TAP_ANIM_START_RADIUS+TAP_ANIM_RADIUS_RANGE*e,a.strokeStyle=TAP_ANIM_BASE_COLOR+b+")",a.lineWidth=TAP_ANIM_CURVE_START_WIDTH,a.beginPath(),a.arc(this.m_point.getX()*c,this.m_point.getY()*c,e*c,0,2*Math.PI,!1),a.stroke())};
function TapManager(a){this.m_context=a.getContext("2d");this.m_scaling=a.width/a.clientWidth;this.m_taps=[]}TapManager.prototype.tap=function(a,b){var c=new Tap(a,b);this.m_taps.push(c)};TapManager.prototype.update=function(a){for(var b=this.m_taps.length-1;0<=b;b--){var c=this.m_taps[b];c.update(this.m_context,a,this.m_scaling);c.m_time>=TAP_ANIM_DURATION&&this.m_taps.splice(b,1)}};var NORTH_VECTOR_actor=new Point(0,-1);function Actor(a){this.m_element=a}
Actor.prototype.syncRotationWithRadians=function(a){a=normalizeAngle(a);var b;0<=a&&a<=Math.PI/2||a>=1.5*Math.PI&&a<=2*Math.PI?b=createScaleTransform(1,1,1):(a%=Math.PI,a+=a>=Math.PI/2&&a<=Math.PI?Math.PI:0,b=createScaleTransform(-1,1,1));a=createRotTransform(a,"rad");setTransform(this.m_element,a+" "+b)};Actor.prototype.syncRotationWithVector=function(a){a=NORTH_VECTOR_actor.calcClockwiseAngleTo(a);a-=Math.PI/2;this.syncRotationWithRadians(a)};
Actor.prototype.syncPosition=function(a){this.m_element.style.left=a.getX()+"px";this.m_element.style.top=a.getY()+"px"};Actor.prototype.setAlpha=function(a){this.m_element.style.opacity=a};Actor.prototype.getElement=function(){return this.element};var BearState={NOT_INITIALIZED:-1,SWIMMING:0,TREADING_WATER:1,LOOKING_AROUND:2,ATTACKING:3,ENTERING_SCENE:4,SPINNING:5},utilVector_bear=new Point,utilPoint1_bear=new Point,utilPoint2_bear=new Point;
function Bear(a,b,c,e,k,m){this.m_sound=a;a=ANIMATION_FRAMERATE;this.m_ripples=e;this.m_velocity=new Point(1,0);this.m_position=new Point;this.m_sideIceSize=k;this.m_rippleXOffset=-3;this.m_worldWidth=b;this.m_worldHeight=c;this.m_walkStartPoint=new Point;this.m_walkTargetPoint=new Point;b=document.createElement("div");b.className="bear_wrapper";this.m_actor=new Actor(b);this.m_timeUntilLookingAround=this.m_timeInState=0;this.m_animationManager=new AnimationManager(["Polar_Bear_Swim",8,a,4,"Polar_Bear_Swim",
1,a,4,"Polar_Bear_Swim_Look",25,a,4,"Polar_Bear_Attack",17,a,4],b,m,BEAR_ANIMATION_X_OFFSET,BEAR_ANIMATION_Y_OFFSET);this.m_rippleTimeTracker=0;this.m_targetFloat=null}Bear.prototype.init=function(a,b,c){this.m_seals=c;this.m_velocity.set(1,0);this.m_position.set(a-2*BEAR_BODY_RADIUS,b,0);this.m_actor.syncPosition(this.m_position);this.m_actor.syncRotationWithVector(this.m_velocity);this.m_state=BearState.NOT_INITIALIZED;utilPoint2_bear.set(a,b);this.walkToPoint(utilPoint2_bear)};
Bear.prototype.getPoint=function(){return this.m_position};Bear.prototype.getVelocity=function(){return this.m_velocity};
Bear.prototype.setState=function(a){if(this.m_state!=a){var b=this.m_state,c=a;if(a==BearState.ENTERING_SCENE||a==BearState.SPINNING)c=BearState.SWIMMING;this.m_animationManager.setAnimation(c);this.m_state=a;this.m_timeInState=0;this.m_state==BearState.SWIMMING||this.m_state==BearState.ENTERING_SCENE?this.ripple(SWIMMING_RIPPLE_STRENGTH):this.m_state==BearState.TREADING_WATER?this.m_timeUntilLookingAround=b==BearState.SWIMMING||b==BearState.ENTERING_SCENE?LOOK_TIME_AFTER_STOPPING:getRandomFloat(BEAR_LOOK_FREQ_MIN,
BEAR_LOOK_FREQ_MAX):this.m_state==BearState.ATTACKING&&this.m_sound.play(SoundId.SPLASH);this.m_rippleTimeTracker=0}};Bear.prototype.isInWater=function(){return this.m_state==BearState.SWIMMING||this.m_state==BearState.TREADING_WATER||this.m_state==BearState.SPINNING||this.m_state==BearState.ENTERING_SCENE||this.m_state==BearState.LOOKING_AROUND};
Bear.prototype.walkToPoint=function(a){if(this.m_state==BearState.ENTERING_SCENE&&(this.getHeadPoint(utilPoint1_bear,BEAR_HEAD_OFFSET),!this.isBearHeadOnScreen(utilPoint1_bear)))return;this.getHeadPoint(utilPoint1_bear);this.m_position.calcDeltaTo(a,this.m_velocity);this.m_targetFloat=null;if(0==this.m_velocity.calcLengthSquared())this.setState(this.isInWater()?BearState.TREADING_WATER:BearState.STANDING);else{for(var b=a,c=0;c<this.m_seals.length;c++){var e=this.m_seals[c].getFloat();if(e.calcIsIntersectingPoint(a)){b=
e.getPoint();this.m_position.calcDeltaTo(e.getPoint(),this.m_velocity);this.m_targetFloat=e;break}}this.m_walkStartPoint.copy(this.m_position);this.m_walkTargetPoint.copy(b);this.m_velocity.setLength(1);this.m_state==BearState.NOT_INITIALIZED?this.setState(BearState.ENTERING_SCENE):this.m_state==BearState.CLIMBING_OUT||this.m_state==BearState.STANDING?this.setState(BearState.WALKING):this.m_state!=BearState.TREADING_WATER&&this.m_state!=BearState.LOOKING_AROUND||this.setState(BearState.SWIMMING);
this.m_actor.syncRotationWithVector(this.m_velocity)}};Bear.prototype.getElement=function(){return this.m_actor.m_element};Bear.prototype.getState=function(){return this.m_state};Bear.prototype.ripple=function(a){this.getHeadPoint(utilPoint1_bear,BEAR_HEAD_RIPPLE_OFFSET);this.m_ripples.disturb(utilPoint1_bear.getX(),utilPoint1_bear.getY(),a)};
Bear.prototype.getHeadPoint=function(a,b){b=void 0==b?BEAR_HEAD_OFFSET:b;a.copy(this.getPoint());utilVector_bear.copy(this.getVelocity());utilVector_bear.setLength(b);a.translateBy(utilVector_bear);a.incX(this.m_rippleXOffset);a.incX(-this.m_sideIceSize)};
Bear.prototype.isBearHeadOnScreen=function(a){return 0>=utilPoint1_bear.getX()-BEAR_HEAD_RADIUS||utilPoint1_bear.getX()+BEAR_HEAD_RADIUS>=this.m_worldWidth||0>=utilPoint1_bear.getY()-BEAR_HEAD_RADIUS||utilPoint1_bear.getY()+BEAR_HEAD_RADIUS>=this.m_worldHeight?!1:!0};
Bear.prototype.update=function(a,b){this.m_timeInState+=a;this.m_animationManager.update(a);var c=this.m_animationManager.getCurrentAnimation();if(this.m_state==BearState.CLIMBING_OUT)c.justRepeated()?this.setState(BearState.WALKING):c.justChangedFrame()&&(utilVector_bear.copy(this.m_velocity),utilVector_bear.setLength(DISTANCE_PER_CLIMBING_STEP),this.m_position.translateBy(utilVector_bear));else if(this.m_state==BearState.ATTACKING)this.m_timeInState>=BEAR_THUMP_TIME&&this.m_sound.play(SoundId.BEAR_THUMP),
c.justRepeated()&&this.setState(BearState.TREADING_WATER);else if(this.m_state==BearState.WALKING||this.m_state==BearState.SWIMMING||this.m_state==BearState.ENTERING_SCENE)utilVector_bear.copy(this.m_velocity),utilVector_bear.scaleByNumber(a*WALK_SPEED),this.m_position.translateBy(utilVector_bear),this.getHeadPoint(utilPoint1_bear,BEAR_HEAD_OFFSET),c=b.getFloatAtPoint(utilPoint1_bear,BEAR_HEAD_RADIUS),null!=c?c==this.m_targetFloat?(this.setState(BearState.ATTACKING),this.m_ripples.disturb(this.getPoint().getX(),
this.getPoint().getY(),ATTACKING_RIPPLE_STRENGTH)):this.setState(BearState.TREADING_WATER):this.isBearHeadOnScreen(utilPoint1_bear)?utilPoint1_bear.calcDistanceSquaredTo(this.m_walkStartPoint)>=this.m_walkTargetPoint.calcDistanceSquaredTo(this.m_walkStartPoint)&&this.setState(this.isInWater()?BearState.TREADING_WATER:BearState.STANDING):this.m_state!=BearState.ENTERING_SCENE&&this.setState(BearState.TREADING_WATER);c=this.m_animationManager.getCurrentAnimation();this.m_rippleTimeTracker+=a;this.m_state==
BearState.SWIMMING||this.m_state==BearState.ENTERING_SCENE?this.m_rippleTimeTracker>=BEAR_SWIM_RIPPLE_RATE&&(this.m_rippleTimeTracker=0,this.ripple(SWIMMING_RIPPLE_STRENGTH)):this.m_state==BearState.TREADING_WATER?(this.m_rippleTimeTracker>=BEAR_TREAD_RIPPLE_RATE&&(this.m_rippleTimeTracker=0),this.m_timeInState>=this.m_timeUntilLookingAround&&this.setState(BearState.LOOKING_AROUND)):this.m_state==BearState.LOOKING_AROUND&&c.justRepeated()&&this.setState(BearState.TREADING_WATER);this.m_state!=BearState.STANDING&&
(this.m_state!=BearState.TREADING_WATER&&this.m_state!=BearState.LOOKING_AROUND)&&this.m_actor.syncPosition(this.m_position)};var floor=Math.floor;function clamp(a,b,c){return a<b?b:a>c?c-1:a}
function Ripples(a){a.width=a.clientWidth*RIPPLE_CANVAS_SCALING;a.height=a.clientHeight*RIPPLE_CANVAS_SCALING;this.m_canvas=a;this.m_ctx=this.m_canvas.getContext("2d");this.m_ctx.fillStyle=RIPPLE_TEXTURE_COLOR;this.m_ctx.fillRect(0,0,this.m_canvas.width,this.m_canvas.height);this.m_width=a.width;this.m_height=a.height;this.m_size=this.m_width*this.m_height;this.m_buffer0=[];this.m_buffer1=[];this.m_texture=this.m_ctx.getImageData(0,0,this.m_canvas.width,this.m_canvas.height);for(i=0;i<this.m_size;i++)this.m_buffer0.push(0),
this.m_buffer1.push(0);this.m_timeTracker=0}Ripples.prototype.disturbColumn=function(a,b){for(var c=0;c<this.m_height;c+=5)this.disturb_private(a,c,b)};Ripples.prototype.disturb_private=function(a,b,c){2>a||(a>this.m_width-2||1>b||b>this.m_height-2)||(a+=b*this.m_width,this.m_buffer0[a]+=c,this.m_buffer0[a-1]-=c)};Ripples.prototype.disturb=function(a,b,c){a=Math.round(a*RIPPLE_CANVAS_SCALING);b=Math.round(b*RIPPLE_CANVAS_SCALING);this.disturb_private(a,b,c)};
Ripples.prototype.update=function(a){this.m_timeTracker+=a;this.m_timeTracker=0;a=this.m_ctx.getImageData(0,0,this.m_width,this.m_height);var b=a.data,c,e;for(c=this.m_width+1;c<this.m_size-this.m_width-1;c+=2)for(e=1;e<this.m_width-1;e++,c++)this.m_buffer0[c]=(this.m_buffer0[c]+this.m_buffer0[c+1]+this.m_buffer0[c-1]+this.m_buffer0[c-this.m_width]+this.m_buffer0[c+this.m_width])/5;for(c=this.m_width+1;c<this.m_size-this.m_width-1;c+=2)for(e=1;e<this.m_width-1;e++,c++){var k=(this.m_buffer0[c-1]+
this.m_buffer0[c+1]+this.m_buffer0[c+this.m_width]+this.m_buffer0[c-this.m_width])/2-this.m_buffer1[c];this.m_buffer1[c]=k;var m=c+floor(0.08*(this.m_buffer1[c-2]-k))+floor(0.08*(this.m_buffer1[c-this.m_width]-k))*this.m_width,m=0>m?0:m>this.m_size?this.m_size:m,k=2*k-0.6*this.m_buffer1[c-2],s=4*c,m=4*m,k=-10>k?-10:100<k?100:k;b[s]=this.m_texture.data[m]+k;b[s+1]=this.m_texture.data[m+1]+k;b[s+2]=this.m_texture.data[m+2]+k}aux=this.m_buffer0;this.m_buffer0=this.m_buffer1;this.m_buffer1=aux;this.m_ctx.putImageData(a,
0,0)};function Water(a,b){this.m_element=a;this.m_alphaSign=-1;this.updateHeight(b);this.setTextureY(-WATER_TEXTURE_HEIGHT);this.m_alpha=WATER_PULSE_ALPHA_MAX;this.syncActorAlpha()}Water.prototype.syncActorAlpha=function(){this.m_element.style.opacity=this.m_alpha};Water.prototype.setTextureY=function(a){this.m_textureY=a;setTransform(this.m_element,create3dTranslation(0,this.m_textureY,0))};
Water.prototype.updateHeight=function(a){a=Math.round(a/WATER_TEXTURE_HEIGHT)+1;this.m_element.style.height=WATER_TEXTURE_HEIGHT*a+"px"};
Water.prototype.update=function(a){this.m_timeTracker+=a;this.m_alpha+=this.m_alphaSign*a*WATER_PULSE_RATE;this.setTextureY(this.m_textureY+a*WATER_ANIMATION_SPEED);this.m_alpha>WATER_PULSE_ALPHA_MAX?(this.m_alpha=WATER_PULSE_ALPHA_MAX,this.m_alphaSign=-this.m_alphaSign):this.m_alpha<WATER_PULSE_ALPHA_MIN&&(this.m_alpha=WATER_PULSE_ALPHA_MIN,this.m_alphaSign=-this.m_alphaSign);this.syncActorAlpha();0<=this.m_textureY&&this.setTextureY(-WATER_TEXTURE_HEIGHT)};
var utilVector_snow=new Point,utilPoint_snow1=new Point,utilPoint_snow2=new Point,dynamicFillStyle_snow="rgba(255, 255, 255, ",defaultFillStyle_snow=dynamicFillStyle_snow+FLAKE_MAX_ALPHA+")";function Flake(a){this.m_point=new Point;this.m_vector=new Point;this.m_drawPoint=new Point;this.m_swayAmp=this.m_swayRotRate=this.m_swayRate=this.m_swayRot=this.m_sway=this.m_swayTracker=this.m_radius=0;this.m_host=a}
Flake.prototype.init=function(a){this.m_point.copy(a);var b;a=0;if(this.m_point.getX()<-this.m_host.clientWidth/2||this.m_point.getX()>this.m_host.clientWidth/2)b=this.m_host.clientWidth/2/Math.abs(this.m_point.getX()),a=this.calcZFromDistanceRatio(b,DEPTH_OF_FIELD);if(this.m_point.getY()<-this.m_host.clientHeight/2||this.m_point.getY()>this.m_host.clientHeight/2)b=this.m_host.clientHeight/2/Math.abs(this.m_point.getY()),b=this.calcZFromDistanceRatio(b,DEPTH_OF_FIELD),a=b>a?b:a;this.m_point.setZ(this.m_point.getZ()-
a);this.m_vector.set(0,0,-FLAKE_FALL_SPEED);this.m_swayTracker=Math.random()*Math.PI;this.m_radius=getRandomFloat(FLAKE_RADIUS_MIN,FLAKE_RADIUS_MAX);this.m_swayRate=getRandomFloat(FLAKE_SWAY_SPEED_MIN,FLAKE_SWAY_SPEED_MAX);this.m_swayRotRate=getRandomFloat(FLAKE_SWAY_ROT_SPEED_MIN,FLAKE_SWAY_ROT_SPEED_MAX);this.m_swayAmp=getRandomFloat(FLAKE_SWAY_AMP_MIN,FLAKE_SWAY_AMP_MAX)};
Flake.prototype.calcDistanceRatio=function(){return 1-Math.atan((VIEW_HEIGHT-this.m_point.getZ())/DEPTH_OF_FIELD)/(Math.PI/2)};Flake.prototype.calcZFromDistanceRatio=function(a,b){return-b*Math.tan(Math.PI*a/2-Math.PI/2)};
Flake.prototype.update=function(a){a=Math.min(a,FLAKE_MAX_TIME_STEP);utilVector_snow.copy(this.m_vector);utilVector_snow.scaleByNumber(a);this.m_point.translateBy(utilVector_snow);this.m_swayTracker+=a*this.m_swayRate;this.m_swayTracker%=2*Math.PI;this.m_sway=Math.sin(this.m_swayTracker)*this.m_swayAmp;this.m_swayRot+=a*this.m_swayRotRate;this.m_swayRot%=2*Math.PI};Flake.prototype.isInBounds=function(){return 0>=this.m_point.getZ()?!1:!0};
Flake.prototype.draw=function(a){var b=this.calcDistanceRatio();utilPoint_snow1.setX(this.m_point.getX()*b+this.m_host.clientWidth/2);utilPoint_snow1.setY(this.m_point.getY()*b+this.m_host.clientHeight/2);this.m_drawPoint.copy(utilPoint_snow1);this.m_drawPoint.incX(this.m_sway*b);this.m_drawPoint.rotateBy(this.m_swayRot,utilPoint_snow1);b*=this.m_radius;a.beginPath();this.m_point.getZ();a.arc(this.m_drawPoint.getX()*FLAKE_CANVAS_SCALING,this.m_drawPoint.getY()*FLAKE_CANVAS_SCALING,b*FLAKE_CANVAS_SCALING,
0,2*Math.PI,!1);a.fill()};Flake.prototype.getDrawPoint=function(){return this.m_drawPoint};
function Snow(a){this.m_canvas=a;this.m_context=a.getContext("2d");a.width=a.clientWidth*FLAKE_CANVAS_SCALING;a.height=a.clientHeight*FLAKE_CANVAS_SCALING;this.m_context.fillStyle=defaultFillStyle_snow;this.m_flakes=[];for(a=0;a<FLAKE_COUNT;a++){var b=new Flake(this.m_canvas);this.calcRandomFlakePoint(utilPoint_snow1);utilPoint_snow1.setZ(Math.random()*VIEW_HEIGHT);b.init(utilPoint_snow1);this.m_flakes.push(b)}}
Snow.prototype.calcRandomFlakePoint=function(a){var b=getRandomFloat(4*-this.m_canvas.clientWidth,4*this.m_canvas.clientWidth),c=getRandomFloat(4*-this.m_canvas.clientHeight,4*this.m_canvas.clientHeight);a.set(b,c,0)};
Snow.prototype.update=function(a,b){this.m_context.clearRect(0,0,this.m_canvas.width,this.m_canvas.height);for(var c=this.m_flakes.length,e=0;e<c;e++){var k=this.m_flakes[e];k.update(a);k.draw(this.m_context);k.isInBounds()||(void 0!=b&&b.disturb(k.getDrawPoint().getX(),k.getDrawPoint().getY(),FLAKE_RIPPLE_STRENGTH),this.calcRandomFlakePoint(utilPoint_snow1),utilPoint_snow1.setZ(VIEW_HEIGHT),k.init(utilPoint_snow1))}};
var SealState={SCANNING:0,WADDLING:1,HOMING_IN:2,CONFIRMING:3,ESCAPE_WADDLING:4,RUNNING:5,DIVING:6,DYING:7,DISAPPEARED:8},utilVector1_seal=new Point,utilPoint_seal=new Point,NORTH_seal=new Point(0,-1);
function Seal(a,b,c,e,k){var m=ANIMATION_FRAMERATE;this.m_sound=a;this.m_ripples=b;this.m_floatManager=c;this.m_coneCanvas=e;this.m_coneContext=this.m_coneCanvas.getContext("2d");this.m_coneCanvas.width=this.m_coneCanvas.clientWidth*FOG_OF_WAR_SCALE;this.m_coneCanvas.height=this.m_coneCanvas.clientHeight*FOG_OF_WAR_SCALE;this.m_point=new Point;this.m_vector=new Point;this.m_cone=new VisionCone(this.m_coneCanvas,this.m_coneContext);a=document.createElement("div");a.className="seal_wrapper";this.m_actor=
new Actor(a);this.m_animationManager=new AnimationManager(["Seal_Still",1,m,4,"Seal_Waddle",12,m,4,"Seal_Alert",4,m,4,"Seal_Alert",4,m,4,"Seal_Waddle",12,ESCAPE_WADDLE_ANIMATION_FRAMERATE,4,"Seal_Run",12,m,4,"Seal_Escape",17,m,4],a,k);this.m_animationManager.getAnimation(SealState.HOMING_IN).setIsRepeating(!1);this.m_animationManager.getAnimation(SealState.CONFIRMING).setIsRepeating(!1);this.m_timeInState=0;this.m_isBearInCone=!1;this.m_timeAllowedInCone=this.m_homingInTargetSweep=this.m_homingInStartSweep=
this.m_homingInTargetLength=this.m_homingInStartLength=this.m_homingInStartRotation=this.m_homingInTargetRotation=this.m_bearTimeInCone=0;this.m_conePoint=new Point;this.m_waddleDirection=this.m_waddleCurrCount=this.m_waddleTotalCount=this.m_timeToScan=0;this.m_radiansPerWaddle=20*(Math.PI/180);this.m_maxSweepRotation=this.m_minSweepRotation=0}
Seal.prototype.init=function(a,b){this.m_coneCanvas.style.opacity=1;this.m_cone.init(a);this.m_float=a;this.m_point.copy(this.m_float.getPoint());this.setRotation(-Math.PI/2);this.m_actor.syncPosition(this.m_point);this.m_actor.syncRotationWithRadians(this.m_rotation-Math.PI/2);this.m_actor.setAlpha(1);this.m_bear=b;this.establishSweepArea();this.m_state=-1;this.getConeStartPoint(this.m_conePoint,SEAL_HEAD_CONE_OFFSET);this.m_cone.set(this.m_conePoint,this.m_rotation,CONE_SWEEP_RANGE+NORMAL_CONE_SWEEP_ANGLE,
CONE_LENGTH);this.drawCone();this.isBearInCone()?this.setState(SealState.WADDLING):this.setState(SealState.SCANNING)};Seal.prototype.establishSweepArea=function(){var a=this.m_coneCanvas.clientHeight;this.getPoint().getY()<a/4?(this.m_minSweepRotation=Math.PI,this.m_maxSweepRotation=1.5*Math.PI):(this.getPoint().getY()>0.75*a?this.m_minSweepRotation=1.5*Math.PI:this.m_minSweepRotation=Math.PI,this.m_maxSweepRotation=2*Math.PI)};Seal.prototype.getPoint=function(){return this.m_point};
Seal.prototype.getConeStartPoint=function(a){this.getHeadPoint(a,SEAL_HEAD_OFFSET,this.m_rotation>Math.PI?SEAL_HEAD_RADIAN_OFFSET:-SEAL_HEAD_RADIAN_OFFSET)};Seal.prototype.getHeadPoint=function(a,b,c){b=void 0==b?SEAL_HEAD_OFFSET:b;c=void 0==c?0:c;a.copy(this.getPoint());utilVector1_seal.set(0,-b);utilVector1_seal.rotateBy(this.m_rotation+c);a.translateBy(utilVector1_seal)};
Seal.prototype.setState=function(a){if(this.m_state!=a){var b=this.m_timeInState;this.m_state=a;this.m_timeInState=0;this.m_state!=SealState.CONFIRMING&&this.m_state!=SealState.DISAPPEARED&&(a=this.m_state,this.m_state==SealState.DYING&&(a=SealState.HOMING_IN),this.m_animationManager.setAnimation(a));this.m_state==SealState.HOMING_IN?(b=this.m_bear.getPoint().calcDistanceTo(this.m_conePoint)+10,a=normalizeAngle(this.m_cone.getRotation()),this.m_point.calcDeltaTo(this.m_bear.getPoint(),utilVector1_seal),
this.m_vector.set(0,-1),this.m_vector.rotateBy(a),this.m_homingInStartRotation=a,a=this.m_vector.calcSignedAngleTo(utilVector1_seal),this.m_homingInTargetRotation=this.m_homingInStartRotation+a,this.m_homingInStartLength=this.m_cone.getLength(),this.m_homingInTargetLength=b+50,this.m_homingInTargetLength=this.m_homingInTargetLength>CONE_LENGTH?CONE_LENGTH:this.m_homingInTargetLength,b=100/(2*Math.PI*this.m_homingInTargetLength),this.m_homingInStartSweep=this.m_cone.getSweepAngle(),this.m_homingInTargetSweep=
2*Math.PI*b):this.m_state==SealState.WADDLING?(this.m_cone.clear(this.m_coneCanvas),this.m_waddleTotalCount=getRandomInt(MIN_WADDLE_COUNT,MAX_WADDLE_COUNT),this.m_waddleCurrCount=0,this.m_rotation<this.m_minSweepRotation?(a=this.m_maxSweepRotation-this.m_rotation,a=a>Math.PI?Math.PI-(a-Math.PI):a+Math.PI,b=this.m_minSweepRotation-this.m_rotation,this.m_waddleDirection=a>b?1:-1):this.m_rotation>this.m_maxSweepRotation?(a=this.m_rotation-this.m_maxSweepRotation,b=this.m_rotation-this.m_minSweepRotation,
b=b>Math.PI?Math.PI-(b-Math.PI):b+Math.PI,this.m_waddleDirection=a>b?1:-1):(this.m_waddleDirection=getRandomSign(),b=this.m_rotation+this.m_waddleTotalCount*this.m_radiansPerWaddle*this.m_waddleDirection,a=angleDelta(b,this.m_minSweepRotation),0<a?(b=Math.ceil(a/this.m_radiansPerWaddle),this.m_waddleTotalCount-=b,0>=this.m_waddleTotalCount&&(this.m_waddleTotalCount=getRandomInt(MIN_WADDLE_COUNT,MAX_WADDLE_COUNT),this.m_waddleDirection=1)):(b=angleDelta(b,this.m_maxSweepRotation),0>b&&(b=Math.ceil(Math.abs(b)/
this.m_radiansPerWaddle),this.m_waddleTotalCount-=b,0>=this.m_waddleTotalCount&&(this.m_waddleTotalCount=getRandomInt(MIN_WADDLE_COUNT,MAX_WADDLE_COUNT),this.m_waddleDirection=-1))))):this.m_state==SealState.ESCAPE_WADDLING?(this.m_waddleTotalCount=3,this.m_waddleCurrCount=0,this.m_waddleDirection=getRandomSign(),this.m_cone.clear(this.m_coneCanvas)):this.m_state==SealState.RUNNING?(this.m_vector.set(0,-SEAL_RUNNING_SPEED),this.m_vector.rotateBy(this.m_rotation)):this.m_state==SealState.DIVING?(this.m_vector.setLength(SEAL_DIVING_SPEED),
this.getConeStartPoint(utilPoint_seal),this.m_ripples.disturb(utilPoint_seal.getX(),utilPoint_seal.getY(),SEAL_DIVE_RIPPLE_STRENGTH),this.m_timeInState=b):this.m_state==SealState.SCANNING?(this.m_cone.clear(this.m_coneCanvas),this.getConeStartPoint(this.m_conePoint,SEAL_HEAD_CONE_OFFSET),this.m_cone.set(this.m_conePoint,this.m_rotation,NORMAL_CONE_SWEEP_ANGLE,CONE_LENGTH),this.m_timeToScan=getRandomFloat(MIN_SCAN_TIME,MAX_SCAN_TIME),this.m_isBearInCone=!1):this.m_state!=SealState.CONFIRMING&&this.m_state==
SealState.DISAPPEARED&&this.m_actor.setAlpha(0);this.m_state==SealState.WADDLING||this.m_state==SealState.ESCAPE_WADDLING?this.m_sound.play(SoundId.SEAL_WADDLE,null,this.m_state==SealState.WADDLING?this.m_waddleTotalCount-1:this.m_waddleTotalCount-2,0.25):this.m_state==SealState.DIVING&&this.m_sound.play(SoundId.SPLASH)}};Seal.prototype.setRotation=function(a){this.m_rotation=normalizeAngle(a)};Seal.prototype.getTimeInState=function(){return this.m_timeInState};
Seal.prototype.isBearInCone=function(){var a=this.getCone().isIntersecting(this.m_bear.getPoint());a||(this.m_bear.getHeadPoint(utilPoint_seal,BEAR_HEAD_OFFSET),a=this.getCone().isIntersecting(utilPoint_seal));return a};
Seal.prototype.update=function(a){this.m_state!=SealState.CONFIRMING&&this.m_animationManager.update(a);this.m_timeInState+=a;var b=this.m_animationManager.getCurrentAnimation(),c=this.m_cone.getSweepAngle(),e=this.m_cone.getLength(),k=this.m_cone.getRotation();if(this.m_state==SealState.SCANNING){k=this.m_isBearInCone;b=this.isBearInCone();if(k&&!b)this.m_bearTimeInCone=0,this.m_isBearInCone=!1;else if(!k&&b)k=this.m_point.calcDistanceTo(this.m_bear.getPoint()),this.m_timeAllowedInCone=BASE_TIME_ALLOWED_IN_CONE*
(k/this.m_cone.getLength()),this.m_bearTimeInCone=0,this.m_isBearInCone=!0;else if(k&&b&&(this.m_bearTimeInCone+=a,this.m_bearTimeInCone>=this.m_timeAllowedInCone)){this.setState(SealState.HOMING_IN);return}if(this.m_timeInState>=this.m_timeToScan){this.setState(SealState.WADDLING);return}k=Math.sin(this.m_timeInState*SCANNING_SPEED);k=this.m_rotation+0+k*(CONE_SWEEP_RANGE/2)}else if(this.m_state==SealState.WADDLING||this.m_state==SealState.ESCAPE_WADDLING){if(b.justRepeated()&&(this.m_waddleCurrCount++,
this.m_waddleCurrCount==this.m_waddleTotalCount)){this.m_state==SealState.WADDLING?this.setState(SealState.SCANNING):this.m_state==SealState.ESCAPE_WADDLING&&this.setState(SealState.RUNNING);return}this.setRotation(this.m_rotation+a*(this.m_state==SealState.WADDLING?NORMAL_WADDLE_SPEED:ESCAPE_WADDLE_SPEED)*this.m_waddleDirection);this.m_actor.syncRotationWithRadians(this.m_rotation-Math.PI/2)}else this.m_state==SealState.HOMING_IN?(a=this.m_timeInState/HOMING_IN_TIME,a=1<a?1:a,k=this.m_homingInStartRotation+
a*(this.m_homingInTargetRotation-this.m_homingInStartRotation),e=a,c=this.m_homingInStartSweep-(this.m_homingInStartSweep-this.m_homingInTargetSweep)*e,e=this.m_homingInStartLength+(this.m_homingInTargetLength-this.m_homingInStartLength)*e,1==a&&this.setState(SealState.CONFIRMING)):this.m_state==SealState.CONFIRMING?this.m_timeInState>=CONFIRMING_TIME&&this.setState(SealState.ESCAPE_WADDLING):this.m_state==SealState.RUNNING?(this.run(a),this.fadeCanvas(),this.m_point.calcDistanceSquaredTo(this.m_float.getPoint())>=
this.m_float.getRadius_2()&&this.setState(SealState.DIVING)):this.m_state==SealState.DIVING?(this.run(a),this.fadeCanvas(),b.justRepeated()&&this.setState(SealState.DISAPPEARED)):this.m_state==SealState.DYING&&(this.fadeCanvas(),a=1-clampValue(this.m_timeInState/SEAL_DYING_TIME,0,1),this.m_actor.setAlpha(a),this.m_timeInState>=SEAL_DYING_TIME&&this.setState(SealState.DISAPPEARED));if(this.m_state==SealState.SCANNING||this.m_state==SealState.HOMING_IN||this.m_state==SealState.CONFIRMING)this.m_cone.set(this.m_conePoint,
k,c,e),this.drawCone()};Seal.prototype.drawCone=function(){this.m_cone.draw(this.m_coneCanvas);this.m_floatManager.knockOutVisionCone(this.m_cone,this.m_coneCanvas,this.m_coneContext);this.m_cone.blur(this.m_coneCanvas,this.m_coneContext)};Seal.prototype.run=function(a){utilVector1_seal.copy(this.m_vector);utilVector1_seal.scaleByNumber(a);this.m_point.translateBy(utilVector1_seal);this.m_actor.syncPosition(this.m_point)};
Seal.prototype.fadeCanvas=function(){var a=1-this.m_timeInState/CONE_CANVAS_FADE_SPEED;this.m_coneCanvas.style.opacity=0>a?0:a};Seal.prototype.getCone=function(){return this.m_cone};Seal.prototype.getFloat=function(){return this.m_float};Seal.prototype.getElement=function(){return this.m_actor.m_element};Seal.prototype.getState=function(){return this.m_state};function FpsTracker(){this.m_frameRate=this.m_time=this.m_frameCount=0;this.m_updateRate=0.5;this.m_justUpdated=!1}
FpsTracker.prototype.wasJustUpdated=function(){return this.m_justUpdated};FpsTracker.prototype.update=function(a){this.m_justUpdated=!1;this.m_frameCount++;this.m_time+=a;this.m_time>=this.m_updateRate&&this.updateFrameRate()};FpsTracker.prototype.updateFrameRate=function(){this.m_frameRate=Math.round(this.m_frameCount/this.m_time);this.m_time=this.m_frameCount=0;this.m_justUpdated=!0};FpsTracker.prototype.getFps=function(){return this.m_frameRate};
function FpsViewer(a){this.m_element=a;this.m_tracker=new FpsTracker}FpsViewer.prototype.update=function(a){this.m_tracker.update(a);this.m_tracker.wasJustUpdated()&&(this.m_element.innerHTML=this.m_tracker.getFps()+" FPS")};
var utilPoint_main=new Point,utilVector_main=new Point,floatManager,bear,ripples,water,sideIceSize,worldElement,worldWidth,worldHeight,snow,visionCone,coneCanvas,coneContext,seal,fpsViewer,debugContext,debugCanvas,soundMngr,$iceFloatContainer,$actorContainer,$replayLayer,tapManager,alertAnimation,isMouseDown=!1,everythingLoaded=!1,playingAlertAnimation=!1;
function entryPoint(){function a(){c++;c==e&&onLoaded()}$(".side_ice");sideIceSize=0;$world=$(".world");worldElement=$world.get(0);worldWidth=$world.width();worldHeight=$world.height();var b=$(".ripples").get(0);ripples=new Ripples(b);b=$(".snow");snow=new Snow(b.get(0),sideIceSize);tapManager=new TapManager(b.get(0));var c=0,e=6;loadSounds(a);loadImages(a);water=new Water($(".water").get(0),worldHeight);$iceFloatContainer=$(".ice_float_container");b=$iceFloatContainer.get(0);floatManager=new FloatManager(b,
a);coneCanvas=$(".cone").get(0);seal=new Seal(soundMngr,ripples,floatManager,coneCanvas,a);bear=new Bear(soundMngr,worldWidth,worldHeight,ripples,sideIceSize,a);alertAnimation=new Animation("Alert",24,ANIMATION_FRAMERATE,4,a);var k=$(".mouse_layer");k.click(function(a){seal.getState()!=SealState.SCANNING&&seal.getState()!=SealState.WADDLING&&seal.getState()!=SealState.DYING&&seal.getState()!=SealState.DISAPPEARED||!everythingLoaded||(utilPoint_main.set(a.pageX-k.offset().left,a.pageY-k.offset().top),
bear.walkToPoint(utilPoint_main),tap(utilPoint_main.getX(),utilPoint_main.getY()))});$actorContainer=$(".actor_container");b=$actorContainer.get(0);b.appendChild(bear.getElement());b.appendChild(seal.getElement());b.appendChild(alertAnimation.getElement());fpsViewer=new FpsViewer($("#fps_viewer").get(0));$replayLayer=$(".replay_modal");$replayLayer.click(function(){$replayLayer.css("display","none");init()});startUpdateLoop()}
function tap(a,b){tapManager.tap(a,b);ripples.disturb(a,b,TAP_RIPPLE_STRENGTH)}var SoundId={BEAR_THUMP:0,OCEAN:1,SEAL_WADDLE:2,SPLASH:3};function loadSounds(a){for(var b=["./sound/Bear_Thump.mp3","./sound/Ocean_Ambient.mp3","./sound/SealWaddle.mp3","./sound/Splash.mp3"],c=0;c<b.length;c++)b[c]+="?v="+SOUND_VERSION;soundMngr=new SoundManager(b,a)}
function loadImages(a){function b(){e++;e==c&&a()}var c=4,e=0;$img=$("#play_again_img");$img.load(b);$img.get(0).src="./img/play_again.png";$img=$(".mute_img");$img.load(b);$img.get(0).src="./img/SoundOn.png";$img=$(".unmute_img");$img.load(b);$img.get(0).src="./img/SoundOff.png";$img=$(".beta_img");$img.load(b);$img.get(0).src="./img/beta.png"}
function init(){soundMngr.play(SoundId.OCEAN,null,-1);var a=2*BEAR_BODY_RADIUS,b=BEAR_BODY_RADIUS,a=a+Math.random()*(worldHeight-2*a);tapManager.tap(b,a);floatManager.init(b,a,FLOAT_COUNT);var c=floatManager.getRightMostFloat();seal.init(c,bear);bear.init(b,a,[seal]);floatManager.ripple(ripples);for(b=0;b<RIPPLE_WARMUP_UPDATE_COUNT;b++)ripples.update(0)}
function onLoaded(){everythingLoaded=!0;$iceFloatContainer.css("zIndex","1");$actorContainer.css("zIndex","2");$(".beta_container").css("zIndex",5);$(".loading_modal").remove();initMuteButton();init()}function initMuteButton(){var a=$(".mute_wrapper");a.css("zIndex",8);a.click(function(){var a=soundMngr.isMuted();a?($(".mute_img").css("display","block"),$(".unmute_img").css("display","none")):($(".mute_img").css("display","none"),$(".unmute_img").css("display","block"));soundMngr.mute(!a)})}
function initDebugDraw(){debugCanvas=$(".debug_canvas").get(0);debugCanvas.width=debugCanvas.clientWidth;debugCanvas.height=debugCanvas.clientHeight;debugContext=debugCanvas.getContext("2d");debugContext.fillStyle="rgba(255, 0, 0, .5)"}
function drawDebug(){debugContext.clearRect(0,0,debugCanvas.width,debugCanvas.height);bear.getHeadPoint(utilPoint_main,48);debugContext.beginPath();debugContext.arc(utilPoint_main.getX(),utilPoint_main.getY(),BEAR_HEAD_RADIUS,0,2*Math.PI,!1);debugContext.fill();for(var a=floatManager.getFloats(),b=0;b<a.length;b++){var c=a[b];debugContext.beginPath();var e=c.getPoint().getX()+c.getKnockOutCenterOffset().getX(),k=c.getPoint().getY()+c.getKnockOutCenterOffset().getY();debugContext.arc(e,k,c.getKnockOutRadius(),
0,2*Math.PI,!1);debugContext.fill()}for(b=0;b<floatManager.m_uiBBs.length;b++){var c=floatManager.m_uiBBs[b].getMin(),m=floatManager.m_uiBBs[b].getMax(),e=c.getX(),k=c.getY(),a=m.getX()-c.getX(),c=m.getY()-c.getY();debugContext.fillRect(e,k,a,c)}}
function startUpdateLoop(){var a=getTime(),b=0;setInterval(function(){var c=getTime(),e=(c-a)/1E3;b++;e=e>MAX_TIMESTEP?MAX_TIMESTEP:e;fpsViewer.update(e);snow.update(e,ripples);tapManager.update(e);water.update(e);everythingLoaded&&(floatManager.update(e,ripples),seal.update(e),seal.getState()==SealState.SCANNING||seal.getState()==SealState.WADDLING||seal.getState()==SealState.DYING?bear.getState()!=BearState.WALKING&&bear.getState()!=BearState.SWIMMING&&bear.getState()==BearState.ATTACKING&&seal.getState()!=
SealState.DYING&&seal.setState(SealState.DYING):seal.getState()==SealState.HOMING_IN?bear.setState(BearState.TREADING_WATER):seal.getState()==SealState.CONFIRMING?seal.getTimeInState()>=CONFIRM_TIME_ALERT_ANIMATION_DELAY&&!playingAlertAnimation&&(seal.getConeStartPoint(utilPoint_main),alertAnimation.getElement().style.left=utilPoint_main.getX()+"px",alertAnimation.getElement().style.top=utilPoint_main.getY()+ALERT_ANIMATION_Y_OFFSET+"px",alertAnimation.reset(),alertAnimation.show(),playingAlertAnimation=
!0):seal.getState()==SealState.DISAPPEARED&&$replayLayer.css("display","table"),bear.update(e,floatManager),playingAlertAnimation&&(alertAnimation.update(e),alertAnimation.justRepeated()&&(alertAnimation.hide(),playingAlertAnimation=!1)));0==b%2&&ripples.update(e);a=c},1E3*TARGET_TIMESTEP)};
